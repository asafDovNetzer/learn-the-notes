(this["webpackJsonplearn-the-notes"]=this["webpackJsonplearn-the-notes"]||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"r",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"s",(function(){return O})),n.d(t,"h",(function(){return y})),n.d(t,"o",(function(){return g}));var r="GET_LOCAL_STORAGE",a="DELETE_STORAGE",o="NEXT_CARD",s="FLAG_WRONG_ANSWER",i="FLAG_RIGHT_ANSWER",c="TICK",u="PAUSE_GAME",l="RESUME_GAME",d="CHANGE_SYMBOLS",f="STORAGE_SET",h="STORAGE_UNSET",p="EMAIL_ERROR",j="PASSWORD_ERROR",b="CLEAR_ERRORS",m="LOGIN_SUCCESS",v="LOGOUT_SUCCESS",O="TOGGLE_MODEL",y="INIT_NOTES",g="SET_FIRST_NOTES"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"r",(function(){return f})),n.d(t,"h",(function(){return o})),n.d(t,"o",(function(){return a})),n.d(t,"q",(function(){return y})),n.d(t,"i",(function(){return x})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return A})),n.d(t,"m",(function(){return b})),n.d(t,"s",(function(){return v})),n.d(t,"g",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"p",(function(){return E}));var r=n(7),a=function(){return{type:r.o}},o=function(e){return{type:r.h,difficulty:e}},s=function(){return{type:r.a}},i=function(){return{type:r.m}},c=function(){return{type:r.n}},u=function(){return{type:r.k}},l=function(e){return{type:r.f,answer:e}},d=function(e){return{type:r.e,answer:e}},f=function(){return{type:r.r}},h=n(39);n(68),n(72);h.a.initializeApp({apiKey:"AIzaSyBNeJGhiRWUd4nPsiqOgT4j3yXr-f35ZzU",authDomain:"learn-the-notes.firebaseapp.com",databaseURL:"https://learn-the-notes-default-rtdb.firebaseio.com",projectId:"learn-the-notes",storageBucket:"learn-the-notes.appspot.com",messagingSenderId:"988020024317"});var p=h.a.database(),j=h.a.auth(),b=function(e){return function(t){j.sendPasswordResetEmail(e).then((function(){t(_("An email was successfully sent..."),null)})).catch((function(n){t(O(n,e))}))}},m=function(){return{type:r.b}},v=function(e){return{type:r.s,newState:e}},O=function(e,t){return{type:r.d,errorMessage:e.message,email:t}},y=function(e,t,n){return function(r){j.createUserWithEmailAndPassword(e,t).then((function(){r(x(e,t,n))})).catch((function(t){r(O(t,e))}))}},g=function(e){return{type:r.i,user:e}},_=function(e,t){return{type:r.l,errorMessage:e,password:t}},w=function(){return function(e){j.onAuthStateChanged((function(t){t&&(e(g(t)),e(C(t))),t||e(N())}))}},x=function(e,t,n){return function(r){j.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;if(r(g(t)),r(m()),r(v(!1)),n){var a=n.notesArray,o=n.answers,s=n.symbolType;r(E(a,o,s,t))}})).catch((function(n){"auth/wrong-password"===n.code?r(_(n.message,t)):r(O(n,e))}))}},N=function(){return{type:r.j}},A=function(){return function(e){j.signOut().then((function(){e(N()),e(v(!1))})).catch((function(e){return console.log(e)}))}},S=function(e){var t=e.notesArray,n=void 0!==t&&t,a=e.answersArray,o=void 0!==a&&a,s=e.symbolType,i=void 0!==s&&s;return{type:r.g,notesArray:n,answers:o,symbolType:i}},k=function(){return{type:r.c}},C=function(e){return function(t){p.ref("users/".concat(e.uid)).get().then((function(e){e.exists()&&t(S(e.val().data)),e.exists()||t(S())})).catch((function(e){return console.log(e)}))}},T=function(e){return function(t){e?p.ref("users/".concat(null===e||void 0===e?void 0:e.uid)).remove().then((function(){return t(k())})).catch((function(e){return console.log(e)})):t(k())}},E=function(e,t,n,a){return function(o){o({type:r.q});var s={notesArray:e,answersArray:t,symbolType:n};p.ref("users/".concat(a.uid)).set({data:s},(function(e){e||o({type:r.p}),e&&console.log(e)}))}}},,function(e,t,n){e.exports={Auth:"Auth_Auth__NSo1I",AuthDiv:"Auth_AuthDiv__3vGPy",Button:"Auth_Button__eFRCY",Messages:"Auth_Messages__K12Gg",Link:"Auth_Link__jrO2E"}},,,,,,,function(e,t,n){e.exports={Card:"Card_Card__2S6Rp",Success:"Card_Success__3Wn9S",NextCard:"Card_NextCard__1Y5-n",Close:"Card_Close__1SGXP",closeCard:"Card_closeCard__2kO_A",First:"Card_First__3IjaT",fade:"Card_fade__2iztU",None:"Card_None__2uEFs"}},,,,,,function(e,t,n){e.exports={Button:"Option_Button__3k_sa",Correct:"Option_Correct__3Eraw",Button0:"Option_Button0__37mCq",Button1:"Option_Button1__30dln",Button2:"Option_Button2__3Pk-W",Button4:"Option_Button4__3wk1X",Button5:"Option_Button5__3dJn6",Button6:"Option_Button6__zVmrZ"}},,,,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__vITOm",Link:"Toolbar_Link__FIZjA",SignedIn:"Toolbar_SignedIn__37qqL",Hidden:"Toolbar_Hidden__33hgg",DesktopOnly:"Toolbar_DesktopOnly__2cKMk"}},,,,,,,,,function(e,t,n){"use strict";n(2);var r=n(58),a=n.n(r),o=n(1);t.a=function(e){return Object(o.jsx)("div",{className:a.a.Loader,children:"Loading..."})}},,function(e,t,n){e.exports={Field:"FormField_Field__UzYzK",Valid:"FormField_Valid__3_1l7",InValid:"FormField_InValid__11hMl"}},function(e,t,n){e.exports={Stopwatch:"Stopwatch_Stopwatch__3lLaU",Hidden:"Stopwatch_Hidden__3Omnv"}},,,,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2459L",active:"NavigationItem_active__29kGs"}},,,function(e,t,n){e.exports={Saved:"StorageIcon_Saved__Topjh",Unsaved:"StorageIcon_Unsaved__1vRdq",rotate:"StorageIcon_rotate__3i0AV"}},function(e,t,n){e.exports={Options:"Options_Options__3oapo",Hidden:"Options_Hidden__1B7LN"}},function(e,t,n){e.exports={App:"App_App__2JkKW",NoScroll:"App_NoScroll__3hZRS"}},,function(e,t,n){"use strict";n(2);var r=n(55),a=n.n(r),o=n(1);t.a=function(e){return e.show?Object(o.jsx)("div",{onClick:e.closeModal,className:a.a.Backdrop}):null}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__VyT0W",SignedIn:"NavigationItems_SignedIn__3JU7b"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__dJKQx"}},function(e,t,n){e.exports={Difficulty:"Difficulty_Difficulty__783Zd"}},function(e,t,n){e.exports={CardGame:"CardGame_CardGame__1sGJ1"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1Pxsq",load2:"Spinner_load2__3QcMM"}},,,,,,function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(35),s=n.n(o),i=(n(64),n(19)),c=n(20),u=n(22),l=n(21),d=n(12),f=n(10),h=n(9),p=function(e){return e.children},j=n(25),b=n(29),m=n.n(b),v=n(28),O=n(54),y=n.n(O),g=n(30),_=n(46),w=n.n(_),x=n(1),N=function(e){return Object(x.jsx)("li",{className:w.a.NavigationItem,children:Object(x.jsx)(g.b,{to:e.link,exact:!0,activeClassName:w.a.active,children:e.children})})},A=function(){return Object(x.jsxs)("ul",{className:y.a.NavigationItems,children:[Object(x.jsx)(N,{link:"/",children:"App"}),Object(x.jsx)(N,{link:"/game-data",children:"Game Data"}),Object(x.jsx)(N,{link:"/about",children:"About"})]})},S=n(49),k=n.n(S),C=function(e){return Object(x.jsxs)(p,{children:[Object(x.jsx)("svg",{className:e.storage?k.a.Saved:k.a.Unsaved,width:"26",height:"26",fill:"currentColor","data-tip":e.user?"Auto-save is on":"Login to enable auto-save","data-effect":"solid",children:Object(x.jsx)("use",{href:"".concat(v.a,"#save")})}),Object(x.jsx)(j.a,{})]})},T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onUserClick=function(){var t=!e.props.modelState;e.props.onUserPress(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=[m.a.Toolbar,this.props.isRunning?m.a.Hidden:null],t=window.location.origin,n=this.props.user?"Logged in":"No user active";return Object(x.jsxs)("header",{className:e.join(" "),children:[Object(x.jsx)("img",{className:m.a.DesktopOnly,src:"".concat(t,"/logo7.png"),alt:"clef"}),Object(x.jsx)(C,{user:this.props.user,storage:this.props.storage}),Object(x.jsx)("nav",{children:Object(x.jsx)(A,{})}),Object(x.jsx)("button",{"data-tip":n,"data-effect":"solid",className:m.a.Link,onClick:this.onUserClick,children:Object(x.jsx)("svg",{className:this.props.user?m.a.SignedIn:null,width:"26",height:"26",fill:"currentColor",children:Object(x.jsx)("use",{href:"".concat(v.a,"#person-circle")})})}),Object(x.jsx)(j.a,{})]})}}]),n}(r.Component),E=Object(d.b)((function(e){return{isRunning:e.cardGame.isRunning,storage:e.website.storage,user:e.cardGame.user,modelState:e.website.modelState}}),(function(e){return{onUserPress:function(t){return e(h.s(t))}}}))(T),G=n(34),R=n(4),I=n(27),L=n(11),M=n.n(L),P=n(40),D=n.n(P),B=function(e){var t=[D.a.Field];return e.field.validity&&t.push(D.a.Valid),!1===e.field.validity&&t.push(D.a.InValid),Object(x.jsxs)(p,{children:[Object(x.jsx)("input",{onChange:e.handler,className:t.join(" "),placeholder:e.field.placeholder,name:e.name,required:!0,type:e.field.type,value:e.field.value,"data-tip":e.field.info}),Object(x.jsx)(j.a,{})]})},H=function(e){var t=e.error?Object(x.jsx)("p",{children:e.error}):null,n=!0,r=[];for(var a in e.fields)e.fields[a].validity||(n=!1),r.push(Object(x.jsx)(B,{handler:e.fieldChangeHandler,field:e.fields[a],name:a},a));return Object(x.jsxs)("div",{className:M.a.AuthDiv,children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("ul",{children:r.map((function(e){return e}))}),Object(x.jsx)("button",{className:M.a.Button,disabled:!n,onClick:e.submitHandler,children:"Sign Up"})]}),Object(x.jsxs)("div",{className:M.a.Messages,children:[t,Object(x.jsxs)("p",{children:["Already have an account?",Object(x.jsx)("button",{className:M.a.Link,onClick:function(){return e.changeMethodHandler("Login")},children:"Login"})]})]})]})},F=function(e){var t=e.error?Object(x.jsx)("p",{children:e.error}):null,n=e.fields[0].validity&&e.fields[1].validity;return Object(x.jsxs)("div",{className:M.a.AuthDiv,children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("ul",{children:e.fields.map((function(t){return Object(x.jsx)(B,{handler:e.fieldChangeHandler,field:t,name:t.name},t.name)}))}),Object(x.jsx)("button",{className:M.a.Button,disabled:!n,onClick:e.submitHandler,children:"Login"})]}),Object(x.jsxs)("div",{className:M.a.Messages,children:[t,Object(x.jsxs)("p",{children:["Don't have an account?",Object(x.jsx)("button",{className:M.a.Link,onClick:function(){return e.changeMethodHandler("Sign Up")},children:"Sign up for free"})]}),Object(x.jsxs)("p",{children:["Forgot your password?",Object(x.jsx)("button",{className:M.a.Link,onClick:function(){return e.changeMethodHandler("Recover Password")},children:"Recover it"})]})]})]})},U=function(e){return Object(x.jsx)("div",{className:M.a.Messages,children:Object(x.jsxs)("p",{children:["You are currently logged in...",Object(x.jsx)("button",{className:M.a.Link,onClick:e.handler,children:"Logout"})]})})},V=function(e){console.log(e.field);var t=e.error?Object(x.jsx)("p",{children:e.error}):null,n=e.field.validity;return Object(x.jsxs)("div",{className:M.a.AuthDiv,children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("ul",{children:Object(x.jsx)(B,{handler:e.fieldChangeHandler,field:e.field,name:e.field.type})}),Object(x.jsx)("button",{className:M.a.Button,disabled:!n,onClick:e.submitHandler,children:"Send Verification Email"})]}),t]})},W=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={method:"Login",form:{email:{value:"",type:"email",name:"email",placeholder:"Your Email address",validity:void 0,checkEmailIsDifferent:function(e,t){var n=t.props.invalidEmail!==e;return this.validity=n,n},checkValidity:function(e,t){return this.checkEmailIsDifferent(e,t)}},password:{value:"",type:"password",name:"password",placeholder:"Your password",info:"Password must be 8 characters or longer...",validity:void 0,checkPassword:function(e,t){if(e){var n=e.length>=8&&e!==t.props.invalidPassword;return this.validity=n,n}},checkValidity:function(e,t){return this.checkPassword(e,t)}},repeatPassword:{value:"",type:"password",name:"repeatPassword",placeholder:"Repeat password",info:"Passwords must be identical",validity:void 0,checkPassword:function(e,t){if(e)return console.log(t),e===t.state.form.password.value},checkValidity:function(e,t){return this.checkPassword(e,t)}}}},e.onInputChange=function(t){var n=t.target.value,r=t.target.name,a=e.state.form[r].checkValidity(n,Object(I.a)(e)),o=Object(R.a)(Object(R.a)({},e.state.form[r]),{},{value:n,validity:a}),s=Object(R.a)(Object(R.a)({},e.state.form),{},Object(G.a)({},r,o));e.setState({form:s})},e.changeAuthMethod=function(t){e.props.onAuthTypeChange(),e.setState({method:t})},e.logoutHanlder=function(){e.props.onLogout()},e.recoverPasswordHandler=function(t){t.preventDefault(),e.props.onRecover(e.state.form.email.value)},e.signUpHandler=function(t){t.preventDefault();var n=null;e.props.answers.length&&(n={notesArray:e.props.notesArray,answers:e.props.answers,symbolType:e.props.symbolType}),e.props.onSignUp(e.state.form.email.value,e.state.form.password.value,n)},e.loginHandler=function(t){t.preventDefault(),e.props.onLogin(e.state.form.email.value,e.state.form.password.value)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.user&&this.setState({method:"Logout"})}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.state.form.email.checkValidity(this.state.form.email.value,this),this.state.form.password.checkValidity(this.state.form.password.value,this),this.setState({form:this.state.form}))}},{key:"render",value:function(){var e;switch(this.state.method){case"Sign Up":e=Object(x.jsx)(H,{fields:this.state.form,fieldChangeHandler:this.onInputChange,submitHandler:this.signUpHandler,changeMethodHandler:this.changeAuthMethod,error:this.props.error});break;case"Login":e=Object(x.jsx)(F,{fields:[this.state.form.email,this.state.form.password],fieldChangeHandler:this.onInputChange,submitHandler:this.loginHandler,error:this.props.error,changeMethodHandler:this.changeAuthMethod});break;case"Logout":e=Object(x.jsx)(U,{handler:this.logoutHanlder});break;case"Recover Password":e=Object(x.jsx)(V,{field:this.state.form.email,fieldChangeHandler:this.onInputChange,submitHandler:this.recoverPasswordHandler,error:this.props.error})}return Object(x.jsx)("div",{className:M.a.Auth,children:e})}}]),n}(r.Component),q=Object(d.b)((function(e){return{error:e.website.error,invalidEmail:e.website.invalidEmail,invalidPassword:e.website.invalidPassword,user:e.cardGame.user,notesArray:e.cardGame.notesArray,answers:e.cardGame.answers,symbolType:e.cardGame.symbolType}}),(function(e){return{onSignUp:function(t,n,r){return e(h.q(t,n,r))},onLogin:function(t,n){return e(h.i(t,n))},onRecover:function(t){return e(h.m(t))},onAuthTypeChange:function(){return e(h.c())},onLogout:function(){return e(h.j())}}}))(W),z=n(53),K=n(56),Y=n.n(K),J=function(e){return Object(x.jsxs)("div",{className:Y.a.Difficulty,children:[Object(x.jsxs)("button",{onClick:function(){return e.handler(.4)},children:[Object(x.jsx)("h1",{children:"Beginner"}),Object(x.jsx)("p",{children:"I can recognize at least one note"}),Object(x.jsx)("img",{src:"./Images/easym.jpg",alt:"something"})]}),Object(x.jsxs)("button",{onClick:function(){return e.handler(.2)},children:[Object(x.jsx)("h1",{children:"Advanced Beginner"}),Object(x.jsx)("p",{children:"I recognize at least five notes on both clefs"}),Object(x.jsx)("img",{src:"./Images/midm.jpg",alt:"something"})]}),Object(x.jsxs)("button",{onClick:function(){return e.handler(.1)},children:[Object(x.jsx)("h1",{children:"Intermediate"}),Object(x.jsx)("p",{children:"I recognize almost every note on both clefs"}),Object(x.jsx)("img",{src:"./Images/hardm.jpg",alt:"something"})]})]})},X=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).backdropHandler=function(){e.props.onUserPress(!1)},e.onChooseDifficulty=function(t){e.props.setDifficultyLevel(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.modelState?Object(x.jsx)(q,{}):null,t=this.props.difficulty?null:Object(x.jsx)(J,{handler:this.onChooseDifficulty});return Object(x.jsxs)(p,{children:[Object(x.jsx)(E,{}),e,t,Object(x.jsx)(z.a,{closeModal:this.backdropHandler,show:!!e||!!t}),Object(x.jsx)("main",{children:this.props.children})]})}}]),n}(r.Component),Z=Object(d.b)((function(e){return{modelState:e.website.modelState,difficulty:e.cardGame.difficulty}}),(function(e){return{onUserPress:function(t){e(h.c()),e(h.s(t))},setDifficultyLevel:function(t){return e(h.h(t))}}}))(X),Q=n(57),$=n.n(Q),ee=n(52),te=n(18),ne=n.n(te),re=function(e){var t=Object(r.useState)(ne.a.First),n=Object(ee.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)([ne.a.Card,ne.a.Close]),i=Object(ee.a)(s,2),c=i[0],u=i[1];Object(r.useEffect)((function(){u([ne.a.Card,ne.a.Close]),o(ne.a.First);var e=setTimeout((function(){u([ne.a.Card])}),500),t=setTimeout((function(){o(ne.a.None)}),4e3);return function(){clearTimeout(e),clearTimeout(t)}}),[e.isRunning,e.note]);var l=Object(x.jsx)("button",{onClick:e.handler,children:Object(x.jsx)("svg",{width:"160",height:"160",fill:"currentColor",children:Object(x.jsx)("use",{href:"".concat(v.a,"#play")})})});e.isRunning&&(l=Object(x.jsx)("img",{src:"./Images/".concat(e.note.fileName,".jpg"),alt:"something"}));var d=null;e.note.noteName===e.answer&&(d=Object(x.jsx)("h1",{className:ne.a.Success,children:"\u2714"}));var f=0===e.note.valuesArray.length?Object(x.jsx)("div",{className:a,children:Object(x.jsx)("h1",{children:"NEW NOTE !"})}):null,h="./Images/".concat(e.nextNote,".jpg");return Object(x.jsxs)(p,{children:[f,Object(x.jsxs)("div",{className:c.join(" "),children:[l,d,Object(x.jsx)("img",{className:ne.a.NextCard,src:h,alt:"something"})]})]})},ae=function(e,t){return e.answer===t.answer&&e.isRunning===t.isRunning&&e.note===t.note},oe=a.a.memo(re,ae),se=n(24),ie=n.n(se),ce=function(e){var t,n=[ie.a.Button,(null===(t=e.rightAnswer)||void 0===t?void 0:t.noteName)===e.answer&&e.answer===e.note?ie.a.Correct:null];switch(e.index){case 0:n.push(ie.a.Button0);break;case 1:n.push(ie.a.Button1);break;case 2:n.push(ie.a.Button2);break;case 4:n.push(ie.a.Button4);break;case 5:n.push(ie.a.Button5);break;case 6:n.push(ie.a.Button6)}return Object(x.jsx)("button",{className:n.join(" "),disabled:e.disabled,onClick:function(){return e.handler(e.note)},children:e.symbolType?e.note:e.symbol})},ue=n(50),le=n.n(ue),de=a.a.memo((function(e){var t=[];e.options.forEach((function(n,r){t.push(Object(x.jsx)(ce,{index:r,disabled:n.isDisabled,symbolType:e.symbolType,note:n.name,symbol:n.symbol,handler:function(t){return e.handler(t)},rightAnswer:e.rightAnswer,answer:e.answer},n.name))}));var n=[le.a.Options,e.isRunning?null:le.a.Hidden];return Object(x.jsx)("div",{className:n.join(" "),children:t.map((function(e){return e}))})})),fe=n(41),he=n.n(fe),pe=Object(d.b)((function(e){return{time:e.cardGame.stopwatch,isRunning:e.cardGame.isRunning}}))((function(e){var t=Math.floor(e.time).toString(),n=10*(e.time-t),r=[he.a.Stopwatch,!e.isRunning&&he.a.Hidden,e.time>20&&he.a.Hidden];return Object(x.jsxs)("div",{className:r.join(" "),"data-tip":"Scroll up to pause game","data-delay-show":"800","data-effect":"solid",children:[Object(x.jsx)("p",{children:t.padStart(2,"0")}),Object(x.jsx)("p",{children:":"}),Object(x.jsx)("p",{children:n.toFixed(0).padEnd(2,"0")}),Object(x.jsx)(j.a,{})]})})),je=n(38),be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={eventFunction:null,interval:null,thisKey:null,playedNote:null,answered:!1},e.startStopwatch=function(){if(!e.state.interval){var t=setInterval((function(){e.props.onTick()}),100);e.setState({interval:t})}},e.stopStopwatch=function(){clearInterval(e.state.interval),e.setState({interval:null})},e.checkAnswer=function(t){if(!e.state.answered){if(document.getElementById("cardGame").scrollIntoView({behavior:"smooth"}),t===e.props.currentNote.noteName){var n=Object(I.a)(e);e.setState({answered:!0}),setTimeout((function(){n.props.onRightTry(n.props.currentNote),n.props.onCardChange(),n.setState({playedNote:null,answered:!1})}),1e3)}t!==e.props.currentNote.noteName&&e.props.onWrongTry(t),e.setState({playedNote:t})}},e.startButtonHandler=function(){document.getElementById("cardGame").scrollIntoView({behavior:"smooth"}),e.props.onResume(),e.startStopwatch()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;window.outerWidth>=500&&(e=function(){window.scrollY>=20&&(t.props.onResume(),t.startStopwatch()),0===window.scrollY&&(t.props.onPause(),t.stopStopwatch())},window.addEventListener("scroll",e)),window.outerWidth<500&&(e=function(){0===window.pageYOffset&&(t.props.onPause(),t.stopStopwatch())},document.body.addEventListener("touchmove",e)),this.setState({eventFunction:e,thisKey:this})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.state.eventFunction),document.body.removeEventListener("touchmove",this.state.eventFunction)}},{key:"componentDidUpdate",value:function(e){this.props.user&&e.notesArray!==this.props.notesArray&&this.props.onSaveGame(this.props.notesArray,this.props.answers,this.props.symbolType,this.props.user)}},{key:"render",value:function(){var e,t=this,n=Object(x.jsx)(je.a,{});this.props.nextNote&&(n=Object(x.jsxs)(p,{children:[Object(x.jsx)(oe,{isRunning:this.props.isRunning,note:this.props.currentNote,nextNote:null===(e=this.props.nextNote)||void 0===e?void 0:e.fileName,handler:this.startButtonHandler,answer:this.state.playedNote}),Object(x.jsx)(de,{options:this.props.options,symbolType:this.props.symbolType,isRunning:this.props.isRunning,handler:function(e){return t.checkAnswer(e)},rightAnswer:this.props.currentNote,answer:this.state.playedNote}),Object(x.jsx)(pe,{})]}));return Object(x.jsx)("div",{id:"cardGame",className:$.a.CardGame,children:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n;return e.notesArray&&!e.currentNote&&(null===(n=t.thisKey)||void 0===n||n.props.onNoteArrayMount()),t}}]),n}(r.Component),me=Object(d.b)((function(e){return{notesArray:e.cardGame.notesArray,answers:e.cardGame.answers,currentNote:e.cardGame.currentNote,nextNote:e.cardGame.nextNote,options:e.cardGame.options,isRunning:e.cardGame.isRunning,symbolType:e.cardGame.symbolType,user:e.cardGame.user,interval:e.cardGame.interval}}),(function(e){return{onCardChange:function(){return e(h.k())},onRightTry:function(t){return e(h.e(t))},onSaveGame:function(t,n,r,a){return e(h.p(t,n,r,a))},onWrongTry:function(t){return e(h.f(t))},onPause:function(){return e(h.l())},onResume:function(){return e(h.n())},onTick:function(){return e(h.r())},onNoteArrayMount:function(){return e(h.o())}}}))(be),ve=n(51),Oe=n.n(ve),ye=a.a.lazy((function(){return Promise.all([n.e(7),n.e(3)]).then(n.bind(null,92))})),ge=a.a.lazy((function(){return n.e(4).then(n.bind(null,93))})),_e=a.a.lazy((function(){return n.e(5).then(n.bind(null,90))})),we=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onInitApp()}},{key:"render",value:function(){var e=[Oe.a.App,this.props.modelState||!this.props.difficulty?Oe.a.NoScroll:null];return Object(x.jsx)("div",{className:e.join(" "),children:Object(x.jsx)(Z,{children:Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(je.a,{}),children:Object(x.jsxs)(f.c,{children:[Object(x.jsx)(f.a,{path:"/game-data",render:function(){return Object(x.jsxs)(p,{children:[Object(x.jsx)(ye,{}),Object(x.jsx)(ge,{})]})},exact:!0}),Object(x.jsx)(f.a,{path:"/about",component:_e,exact:!0}),Object(x.jsx)(f.a,{path:"/",component:me,exact:!0})]})})})})}}]),n}(r.Component),xe=Object(d.b)((function(e){return{modelState:e.website.modelState,difficulty:e.cardGame.difficulty}}),(function(e){return{onInitApp:function(){return e(h.b())}}}))(we),Ne=n(59),Ae=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),o(e),s(e)}))},Se=n(33),ke=n(7),Ce=["A","B","C","D","E","F","G"],Te=["La","Si","Do","Re","Mi","Fa","Sol"],Ee=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4,t=[],n=6,r=0;r<23;r++){var a=.6*(1-Math.sqrt(Math.abs(11-r))/Math.sqrt(11));t.push({fileName:"F".concat(r+1),value:a,noteName:Ce[n%7],noteSymbol:Te[n%7],noteNumber:Math.floor((n+7)/7),clef:"F",valuesArray:[],locked:a<=e+.5*e,sincePlayed:1}),n++}var o=[];n=4;for(var s=0;s<23;s++){var i=1-Math.sqrt(Math.abs(11-s))/Math.sqrt(11);o.push({fileName:"G".concat(s+1),value:i,noteName:Ce[n%7],noteSymbol:Te[n%7],noteNumber:Math.floor((n+21)/7),clef:"G",valuesArray:[],locked:i<e,sincePlayed:1}),n++}return{F:t.sort((function(e,t){return t.value-e.value})),G:o.sort((function(e,t){return t.value-e.value}))}},Ge=n(14),Re=function(e){return Math.floor(Math.random()*e)+1},Ie=function(e,t){var n=[].concat(Object(Ge.a)(e.F.slice()),Object(Ge.a)(e.G.slice())).filter((function(e){return!e.locked})).filter((function(e){return e.fileName!==t.fileName})).sort((function(e,t){return t.sincePlayed-e.sincePlayed})),r=Re(6)+Re(6);return n[Math.abs(7-r)]},Le=function(e,t,n,r,a){var o=[].concat(Object(Ge.a)(e.F.slice()),Object(Ge.a)(e.G.slice())),s=(23-(r<4?Math.pow(r,2):16)-(n-1<20?n-1:20)/(a||12)*5)/23,i=o.filter((function(e){return!e.locked}));i.forEach((function(e){if(e.valuesArray||(e.valuesArray=[]),e.fileName===t.fileName){var n=[].concat(Object(Ge.a)(e.valuesArray),[s>=0?s:0]),r=n.reduce((function(e,t){return e+t}),0)/n.length;e.value=r,e.valuesArray=n,e.sincePlayed=0}}));var c=i.length,u=1;i.forEach((function(e){var t,n,r=(null===(t=e.valuesArray)||void 0===t?void 0:t.length)>=3&&e.value<.4&&c>=7;(null===(n=e.valuesArray)||void 0===n?void 0:n.length)>=2&&e.value>.6||(u=0),e.locked=r,e.sincePlayed++}));var l=i.filter((function(e){return!e.locked})),d=o.filter((function(e){return e.locked}));d.forEach((function(e,t){e.valuesArray||(e.valuesArray=[]),t<u&&(e.locked=!1)}));var f=[].concat(Object(Ge.a)(d),Object(Ge.a)(l)).sort((function(e,t){return t.value-e.value}));return{F:f.filter((function(e){return"F"===e.clef})),G:f.filter((function(e){return"G"===e.clef}))}},Me=function(e,t){return e.slice().map((function(e){return e.name===t?Object(R.a)(Object(R.a)({},e),{},{isDisabled:!0}):e}))},Pe=function(e){var t=Object(Ge.a)(e);return t.forEach((function(e){return e.isDisabled=!1})),t},De=function(e){var t=Object(Ge.a)(e);return t.forEach((function(e){return e.isDisabled=!0})),t},Be=function(e,t,n,r){return[{id:e.length+1,clef:t.clef,name:t.noteName,number:t.noteNumber,symbol:t.noteSymbol,time:n-1,try:r}].concat(Object(Ge.a)(e))},He=function(e){if(0===e.length)return null;return e.map((function(e){return e.time})).reduce((function(e,t){return e+(t>14?14:t)}),0)/e.length},Fe={notesArray:null,options:function(){for(var e=[],t=0;t<7;t++)e.push({name:Ce[t],symbol:Te[t],isDisabled:!0});return e}(),currentNote:null,nextNote:null,stopwatch:0,answers:[],isRunning:!1,tries:1,symbolType:!1,avarageTime:null,user:null,difficulty:!0},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.o:return Object(R.a)(Object(R.a)({},e),{},{currentNote:e.notesArray.G[0],nextNote:e.notesArray.G[1]});case ke.h:return Object(R.a)(Object(R.a)({},e),{},{notesArray:Ee(t.difficulty),difficulty:t.difficulty});case ke.j:return Object(R.a)(Object(R.a)({},e),{},{user:null,notesArray:null,answers:[],symbolType:!1,difficulty:null});case ke.i:return Object(R.a)(Object(R.a)({},e),{},{user:t.user});case ke.g:return Object(R.a)(Object(R.a)({},e),{},{notesArray:t.notesArray?t.notesArray:e.notesArray,answers:t.answers?t.answers:e.answers,symbolType:t.symbolType,avarageTime:He(t.answers),currentNote:t.notesArray?t.notesArray.G[0]:e.currentNote,nextNote:t.notesArray?t.notesArray.G[1]:e.nextNote,difficulty:!0});case ke.c:return Object(R.a)(Object(R.a)({},e),{},{notesArray:null,answers:[],symbolType:!1,difficulty:null});case ke.k:return Object(R.a)(Object(R.a)({},e),{},{isRunning:!0,currentNote:e.nextNote,nextNote:Ie(e.notesArray,e.nextNote,e.answers),options:Pe(e.options),tries:1,avarageTime:He(e.answers),stopwatch:0});case ke.m:return Object(R.a)(Object(R.a)({},e),{},{isRunning:!1,options:De(e.options),stopwatch:0});case ke.n:return Object(R.a)(Object(R.a)({},e),{},{isRunning:!0,options:Pe(e.options),stopwatch:0});case ke.e:return Object(R.a)(Object(R.a)({},e),{},{notesArray:Le(e.notesArray,t.answer,e.stopwatch,e.tries,e.avarageTime),answers:Be(e.answers,t.answer,e.stopwatch,e.tries)});case ke.f:return Object(R.a)(Object(R.a)({},e),{},{options:Me(e.options,t.answer),tries:e.tries+1});case ke.r:return Object(R.a)(Object(R.a)({},e),{},{stopwatch:e.stopwatch+.1});case ke.a:return Object(R.a)(Object(R.a)({},e),{},{symbolType:!e.symbolType});default:return e}},Ve={storage:!0,error:null,invalidEmail:null,invalidPassword:null,modelState:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.l:return Object(R.a)(Object(R.a)({},e),{},{error:t.errorMessage,invalidPassword:t.password});case ke.d:return Object(R.a)(Object(R.a)({},e),{},{error:t.errorMessage,invalidEmail:t.email});case ke.s:return Object(R.a)(Object(R.a)({},e),{},{modelState:t.newState});case ke.b:return Object(R.a)(Object(R.a)({},e),{},{error:null,invalidEmail:null,invalidPassword:null});case ke.q:return Object(R.a)(Object(R.a)({},e),{},{storage:!1});case ke.p:return Object(R.a)(Object(R.a)({},e),{},{storage:!0});default:return e}},qe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.c,ze=Object(Se.b)({cardGame:Ue,website:We}),Ke=Object(Se.d)(ze,qe(Object(Se.a)(Ne.a))),Ye=Object(x.jsx)(d.a,{store:Ke,children:Object(x.jsx)(g.a,{children:Object(x.jsx)(xe,{})})});window.onbeforeunload=function(){window.scrollTo(0,0)},s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Ye}),document.getElementById("root")),Ae()}],[[76,1,2]]]);
//# sourceMappingURL=main.08d09556.chunk.js.map