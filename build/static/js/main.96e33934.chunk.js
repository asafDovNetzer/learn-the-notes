(this["webpackJsonplearn-the-notes"]=this["webpackJsonplearn-the-notes"]||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"r",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"s",(function(){return O})),n.d(t,"h",(function(){return y})),n.d(t,"o",(function(){return g}));var r="GET_LOCAL_STORAGE",a="DELETE_STORAGE",o="NEXT_CARD",s="FLAG_WRONG_ANSWER",i="FLAG_RIGHT_ANSWER",c="TICK",u="PAUSE_GAME",l="RESUME_GAME",d="CHANGE_SYMBOLS",f="STORAGE_SET",h="STORAGE_UNSET",p="EMAIL_ERROR",j="PASSWORD_ERROR",b="CLEAR_ERRORS",m="LOGIN_SUCCESS",v="LOGOUT_SUCCESS",O="TOGGLE_MODEL",y="INIT_NOTES",g="SET_FIRST_NOTES"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"r",(function(){return f})),n.d(t,"h",(function(){return o})),n.d(t,"o",(function(){return a})),n.d(t,"q",(function(){return y})),n.d(t,"i",(function(){return x})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return S})),n.d(t,"m",(function(){return b})),n.d(t,"s",(function(){return v})),n.d(t,"g",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"p",(function(){return E}));var r=n(7),a=function(){return{type:r.o}},o=function(e){return{type:r.h,difficulty:e}},s=function(){return{type:r.a}},i=function(){return{type:r.m}},c=function(){return{type:r.n}},u=function(){return{type:r.k}},l=function(e){return{type:r.f,answer:e}},d=function(e){return{type:r.e,answer:e}},f=function(){return{type:r.r}},h=n(41);n(69),n(73);h.a.initializeApp({apiKey:"AIzaSyBNeJGhiRWUd4nPsiqOgT4j3yXr-f35ZzU",authDomain:"learn-the-notes.firebaseapp.com",databaseURL:"https://learn-the-notes-default-rtdb.firebaseio.com",projectId:"learn-the-notes",storageBucket:"learn-the-notes.appspot.com",messagingSenderId:"988020024317"});var p=h.a.database(),j=h.a.auth(),b=function(e){return function(t){j.sendPasswordResetEmail(e).then((function(){t(_("An email was successfully sent..."),null)})).catch((function(n){t(O(n,e))}))}},m=function(){return{type:r.b}},v=function(e){return{type:r.s,newState:e}},O=function(e,t){return{type:r.d,errorMessage:e.message,email:t}},y=function(e,t,n){return function(r){j.createUserWithEmailAndPassword(e,t).then((function(){r(x(e,t,n))})).catch((function(t){r(O(t,e))}))}},g=function(e){return{type:r.i,user:e}},_=function(e,t){return{type:r.l,errorMessage:e,password:t}},w=function(){return function(e){j.onAuthStateChanged((function(t){t&&(e(g(t)),e(C(t))),t||e(N())}))}},x=function(e,t,n){return function(r){j.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;if(r(g(t)),r(m()),r(v(!1)),n){var a=n.notesArray,o=n.answers,s=n.symbolType;r(E(a,o,s,t))}})).catch((function(n){"auth/wrong-password"===n.code?r(_(n.message,t)):r(O(n,e))}))}},N=function(){return{type:r.j}},S=function(){return function(e){j.signOut().then((function(){e(N()),e(v(!1))})).catch((function(e){return console.log(e)}))}},A=function(e){var t=e.notesArray,n=void 0!==t&&t,a=e.answersArray,o=void 0!==a&&a,s=e.symbolType,i=void 0!==s&&s;return{type:r.g,notesArray:n,answers:o,symbolType:i}},k=function(){return{type:r.c}},C=function(e){return function(t){p.ref("users/".concat(e.uid)).get().then((function(e){e.exists()&&t(A(e.val().data)),e.exists()||t(A())})).catch((function(e){return console.log(e)}))}},T=function(e){return function(t){e?p.ref("users/".concat(null===e||void 0===e?void 0:e.uid)).remove().then((function(){return t(k())})).catch((function(e){return console.log(e)})):t(k())}},E=function(e,t,n,a){return function(o){o({type:r.q});var s={notesArray:e,answersArray:t,symbolType:n};p.ref("users/".concat(a.uid)).set({data:s},(function(e){e||o({type:r.p}),e&&console.log(e)}))}}},,function(e,t,n){e.exports={Auth:"Auth_Auth__NSo1I",AuthDiv:"Auth_AuthDiv__3vGPy",Button:"Auth_Button__eFRCY",Messages:"Auth_Messages__K12Gg",Link:"Auth_Link__jrO2E"}},,,,,,function(e,t,n){"use strict";t.a=function(e){return e.children}},,function(e,t,n){e.exports={Card:"Card_Card__2S6Rp",Success:"Card_Success__3Wn9S",NextCard:"Card_NextCard__1Y5-n",Close:"Card_Close__1SGXP",closeCard:"Card_closeCard__2kO_A",First:"Card_First__3IjaT",fade:"Card_fade__2iztU",None:"Card_None__2uEFs"}},,,,,,function(e,t,n){e.exports={Button:"Option_Button__3k_sa",Correct:"Option_Correct__3Eraw",Button0:"Option_Button0__37mCq",Button1:"Option_Button1__30dln",Button2:"Option_Button2__3Pk-W",Button4:"Option_Button4__3wk1X",Button5:"Option_Button5__3dJn6",Button6:"Option_Button6__zVmrZ"}},,,,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__vITOm",Link:"Toolbar_Link__FIZjA",SignedIn:"Toolbar_SignedIn__37qqL",Hidden:"Toolbar_Hidden__33hgg",DesktopOnly:"Toolbar_DesktopOnly__2cKMk"}},,,,function(e,t,n){e.exports={Difficulty:"Difficulty_Difficulty__783Zd",Skip:"Difficulty_Skip__Vhgz-",DiffButton:"Difficulty_DiffButton__15tC8"}},,,,,,function(e,t,n){"use strict";n(2);var r=n(59),a=n.n(r),o=n(1);t.a=function(e){return Object(o.jsx)("div",{className:a.a.Loader,children:"Loading..."})}},,function(e,t,n){e.exports={Saved:"StorageIcon_Saved__Topjh",Unsaved:"StorageIcon_Unsaved__1vRdq",rotate:"StorageIcon_rotate__3i0AV",NoUser:"StorageIcon_NoUser__2evm4"}},function(e,t,n){e.exports={Field:"FormField_Field__UzYzK",Valid:"FormField_Valid__3_1l7",InValid:"FormField_InValid__11hMl"}},function(e,t,n){e.exports={CardGame:"CardGame_CardGame__1sGJ1",Message:"CardGame_Message__17Pf5",Hidden:"CardGame_Hidden__1d5Wp"}},function(e,t,n){e.exports={Stopwatch:"Stopwatch_Stopwatch__3lLaU",Hidden:"Stopwatch_Hidden__3Omnv"}},,,,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2459L",active:"NavigationItem_active__29kGs"}},,,function(e,t,n){e.exports={Options:"Options_Options__3oapo",Hidden:"Options_Hidden__1B7LN"}},function(e,t,n){e.exports={App:"App_App__2JkKW",NoScroll:"App_NoScroll__3hZRS"}},,function(e,t,n){"use strict";n(2);var r=n(58),a=n.n(r),o=n(1);t.a=function(e){return e.show?Object(o.jsx)("div",{onClick:e.closeModal,className:a.a.Backdrop}):null}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__VyT0W",SignedIn:"NavigationItems_SignedIn__3JU7b"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__dJKQx"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1Pxsq",load2:"Spinner_load2__3QcMM"}},,,,,,function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(37),a=n.n(r),o=(n(65),n(20)),s=n(21),i=n(23),c=n(22),u=n(2),l=n.n(u),d=n(12),f=n(10),h=n(9),p=n(17),j=n(26),b=n(30),m=n.n(b),v=n(29),O=n(57),y=n.n(O),g=n(31),_=n(50),w=n.n(_),x=n(1),N=function(e){return Object(x.jsx)("li",{className:w.a.NavigationItem,children:Object(x.jsx)(g.b,{to:e.link,exact:!0,activeClassName:w.a.active,children:e.children})})},S=function(){return Object(x.jsxs)("ul",{className:y.a.NavigationItems,children:[Object(x.jsx)(N,{link:"/",children:"App"}),Object(x.jsx)(N,{link:"/game-data",children:"Game Data"}),Object(x.jsx)(N,{link:"/about",children:"About"})]})},A=n(42),k=n.n(A),C=function(e){var t=k.a.NoUser;return e.user&&(t=e.storage?k.a.Saved:k.a.Unsaved),Object(x.jsxs)(p.a,{children:[Object(x.jsx)("svg",{className:t,width:"26",height:"26",fill:"currentColor","data-tip":e.user?"Auto-save is on":"Login to enable auto-save","data-effect":"solid",children:Object(x.jsx)("use",{href:"".concat(v.a,"#save")})}),Object(x.jsx)(j.a,{})]})},T=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onUserClick=function(){var t=!e.props.modelState;e.props.onUserPress(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=[m.a.Toolbar,this.props.isRunning?m.a.Hidden:null],t=window.location.origin,n=this.props.user?"Logged in":"No user active";return Object(x.jsxs)("header",{className:e.join(" "),children:[Object(x.jsx)("img",{className:m.a.DesktopOnly,src:"".concat(t,"/logo7.png"),alt:"clef"}),Object(x.jsx)(C,{user:this.props.user,storage:this.props.storage}),Object(x.jsx)("nav",{children:Object(x.jsx)(S,{})}),Object(x.jsx)("button",{"data-tip":n,"data-effect":"solid",className:m.a.Link,onClick:this.onUserClick,children:Object(x.jsx)("svg",{className:this.props.user?m.a.SignedIn:null,width:"26",height:"26",fill:"currentColor",children:Object(x.jsx)("use",{href:"".concat(v.a,"#person-circle")})})}),Object(x.jsx)(j.a,{})]})}}]),n}(u.Component),E=Object(d.b)((function(e){return{isRunning:e.cardGame.isRunning,storage:e.website.storage,user:e.cardGame.user,modelState:e.website.modelState}}),(function(e){return{onUserPress:function(t){return e(h.s(t))}}}))(T),G=n(36),R=n(4),I=n(28),L=n(11),D=n.n(L),M=n(43),H=n.n(M),B=function(e){var t=[H.a.Field];return e.field.validity&&t.push(H.a.Valid),!1===e.field.validity&&t.push(H.a.InValid),Object(x.jsxs)(p.a,{children:[Object(x.jsx)("input",{onChange:e.handler,className:t.join(" "),placeholder:e.field.placeholder,name:e.name,required:!0,type:e.field.type,value:e.field.value,"data-tip":e.field.info}),Object(x.jsx)(j.a,{})]})},P=function(e){var t=e.error?Object(x.jsx)("p",{children:e.error}):null,n=!0,r=[];for(var a in e.fields)e.fields[a].validity||(n=!1),r.push(Object(x.jsx)(B,{handler:e.fieldChangeHandler,field:e.fields[a],name:a},a));return Object(x.jsxs)("div",{className:D.a.AuthDiv,children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("ul",{children:r.map((function(e){return e}))}),Object(x.jsx)("button",{className:D.a.Button,disabled:!n,onClick:e.submitHandler,children:"Sign Up"})]}),Object(x.jsxs)("div",{className:D.a.Messages,children:[t,Object(x.jsxs)("p",{children:["Already have an account?",Object(x.jsx)("button",{className:D.a.Link,onClick:function(){return e.changeMethodHandler("Login")},children:"Login"})]})]})]})},U=function(e){var t=e.error?Object(x.jsx)("p",{children:e.error}):null,n=e.fields[0].validity&&e.fields[1].validity;return Object(x.jsxs)("div",{className:D.a.AuthDiv,children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("ul",{children:e.fields.map((function(t){return Object(x.jsx)(B,{handler:e.fieldChangeHandler,field:t,name:t.name},t.name)}))}),Object(x.jsx)("button",{className:D.a.Button,disabled:!n,onClick:e.submitHandler,children:"Login"})]}),Object(x.jsxs)("div",{className:D.a.Messages,children:[t,Object(x.jsxs)("p",{children:["Don't have an account?",Object(x.jsx)("button",{className:D.a.Link,onClick:function(){return e.changeMethodHandler("Sign Up")},children:"Sign up for free"})]}),Object(x.jsxs)("p",{children:["Forgot your password?",Object(x.jsx)("button",{className:D.a.Link,onClick:function(){return e.changeMethodHandler("Recover Password")},children:"Recover it"})]})]})]})},F=function(e){return Object(x.jsx)("div",{className:D.a.Messages,children:Object(x.jsxs)("p",{children:["You are currently logged in...",Object(x.jsx)("button",{className:D.a.Link,onClick:e.handler,children:"Logout"})]})})},V=function(e){console.log(e.field);var t=e.error?Object(x.jsx)("p",{children:e.error}):null,n=e.field.validity;return Object(x.jsxs)("div",{className:D.a.AuthDiv,children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("ul",{children:Object(x.jsx)(B,{handler:e.fieldChangeHandler,field:e.field,name:e.field.type})}),Object(x.jsx)("button",{className:D.a.Button,disabled:!n,onClick:e.submitHandler,children:"Send Verification Email"})]}),t]})},W=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={method:"Login",form:{email:{value:"",type:"email",name:"email",placeholder:"Your Email address",validity:void 0,checkEmailIsDifferent:function(e,t){var n=t.props.invalidEmail!==e;return this.validity=n,n},checkValidity:function(e,t){return this.checkEmailIsDifferent(e,t)}},password:{value:"",type:"password",name:"password",placeholder:"Your password",info:"Password must be 8 characters or longer...",validity:void 0,checkPassword:function(e,t){if(e){var n=e.length>=8&&e!==t.props.invalidPassword;return this.validity=n,n}},checkValidity:function(e,t){return this.checkPassword(e,t)}},repeatPassword:{value:"",type:"password",name:"repeatPassword",placeholder:"Repeat password",info:"Passwords must be identical",validity:void 0,checkPassword:function(e,t){if(e)return console.log(t),e===t.state.form.password.value},checkValidity:function(e,t){return this.checkPassword(e,t)}}}},e.onInputChange=function(t){var n=t.target.value,r=t.target.name,a=e.state.form[r].checkValidity(n,Object(I.a)(e)),o=Object(R.a)(Object(R.a)({},e.state.form[r]),{},{value:n,validity:a}),s=Object(R.a)(Object(R.a)({},e.state.form),{},Object(G.a)({},r,o));e.setState({form:s})},e.changeAuthMethod=function(t){e.props.onAuthTypeChange(),e.setState({method:t})},e.logoutHanlder=function(){e.props.onLogout()},e.recoverPasswordHandler=function(t){t.preventDefault(),e.props.onRecover(e.state.form.email.value)},e.signUpHandler=function(t){t.preventDefault();var n=null;e.props.answers.length&&(n={notesArray:e.props.notesArray,answers:e.props.answers,symbolType:e.props.symbolType}),e.props.onSignUp(e.state.form.email.value,e.state.form.password.value,n)},e.loginHandler=function(t){t.preventDefault(),e.props.onLogin(e.state.form.email.value,e.state.form.password.value)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.user&&this.setState({method:"Logout"})}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.state.form.email.checkValidity(this.state.form.email.value,this),this.state.form.password.checkValidity(this.state.form.password.value,this),this.setState({form:this.state.form}))}},{key:"render",value:function(){var e;switch(this.state.method){case"Sign Up":e=Object(x.jsx)(P,{fields:this.state.form,fieldChangeHandler:this.onInputChange,submitHandler:this.signUpHandler,changeMethodHandler:this.changeAuthMethod,error:this.props.error});break;case"Login":e=Object(x.jsx)(U,{fields:[this.state.form.email,this.state.form.password],fieldChangeHandler:this.onInputChange,submitHandler:this.loginHandler,error:this.props.error,changeMethodHandler:this.changeAuthMethod});break;case"Logout":e=Object(x.jsx)(F,{handler:this.logoutHanlder});break;case"Recover Password":e=Object(x.jsx)(V,{field:this.state.form.email,fieldChangeHandler:this.onInputChange,submitHandler:this.recoverPasswordHandler,error:this.props.error})}return Object(x.jsx)("div",{className:D.a.Auth,children:e})}}]),n}(u.Component),q=Object(d.b)((function(e){return{error:e.website.error,invalidEmail:e.website.invalidEmail,invalidPassword:e.website.invalidPassword,user:e.cardGame.user,notesArray:e.cardGame.notesArray,answers:e.cardGame.answers,symbolType:e.cardGame.symbolType}}),(function(e){return{onSignUp:function(t,n,r){return e(h.q(t,n,r))},onLogin:function(t,n){return e(h.i(t,n))},onRecover:function(t){return e(h.m(t))},onAuthTypeChange:function(){return e(h.c())},onLogout:function(){return e(h.j())}}}))(W),z=n(56),K=n(34),Y=n.n(K),J=function(e){return Object(x.jsxs)("div",{className:Y.a.Difficulty,children:[Object(x.jsxs)("button",{className:Y.a.DiffButton,onClick:function(){return e.chooseHandler(.4)},children:[Object(x.jsx)("h1",{children:"Beginner"}),Object(x.jsx)("p",{children:"I can recognize at least one note"}),Object(x.jsx)("img",{src:"./Images/easym.jpg",alt:"something"})]}),Object(x.jsxs)("button",{className:Y.a.DiffButton,onClick:function(){return e.chooseHandler(.2)},children:[Object(x.jsx)("h1",{children:"Advanced Beginner"}),Object(x.jsx)("p",{children:"I recognize at least five notes on both clefs"}),Object(x.jsx)("img",{src:"./Images/midm.jpg",alt:"something"})]}),Object(x.jsxs)("button",{className:Y.a.DiffButton,onClick:function(){return e.chooseHandler(.1)},children:[Object(x.jsx)("h1",{children:"Intermediate"}),Object(x.jsx)("p",{children:"I recognize almost every note on both clefs"}),Object(x.jsx)("img",{src:"./Images/hardm.jpg",alt:"something"})]})]})},X=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).backdropHandler=function(){e.props.onUserPress(!1)},e.onChooseDifficulty=function(t){e.props.setDifficultyLevel(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.modelState?Object(x.jsx)(q,{}):null;return Object(x.jsxs)(p.a,{children:[Object(x.jsx)(E,{}),e,null,Object(x.jsx)(z.a,{closeModal:this.backdropHandler,show:!!e||!1}),Object(x.jsx)("main",{children:this.props.children})]})}}]),n}(u.Component),Z=Object(d.b)((function(e){return{modelState:e.website.modelState,difficulty:e.cardGame.difficulty}}),(function(e){return{onUserPress:function(t){e(h.c()),e(h.s(t))},setDifficultyLevel:function(t){return e(h.h(t))}}}))(X),Q=n(44),$=n.n(Q),ee=n(55),te=n(19),ne=n.n(te),re=function(e){var t=Object(u.useState)(ne.a.First),n=Object(ee.a)(t,2),r=n[0],a=n[1],o=Object(u.useState)([ne.a.Card,ne.a.Close]),s=Object(ee.a)(o,2),i=s[0],c=s[1];Object(u.useEffect)((function(){c([ne.a.Card,ne.a.Close]),a(ne.a.First);var e=setTimeout((function(){c([ne.a.Card])}),500),t=setTimeout((function(){a(ne.a.None)}),4e3);return function(){clearTimeout(e),clearTimeout(t)}}),[e.isRunning,e.note]);var l=Object(x.jsx)("button",{onClick:e.handler,children:Object(x.jsx)("svg",{width:"160",height:"160",fill:"currentColor",children:Object(x.jsx)("use",{href:"".concat(v.a,"#play")})})});e.isRunning&&(l=Object(x.jsx)("img",{src:"./Images/".concat(e.note.fileName,".jpg"),alt:"something"}));var d=null;e.note.noteName===e.answer&&(d=Object(x.jsx)("h1",{className:ne.a.Success,children:"\u2714"}));var f=0===e.note.valuesArray.length&&e.isRunning?Object(x.jsx)("div",{className:r,children:Object(x.jsx)("h1",{children:"NEW NOTE !"})}):null,h="./Images/".concat(e.nextNote,".jpg");return Object(x.jsxs)(p.a,{children:[f,Object(x.jsxs)("div",{className:i.join(" "),children:[l,d,Object(x.jsx)("img",{className:ne.a.NextCard,src:h,alt:"something"})]})]})},ae=function(e,t){return e.answer===t.answer&&e.isRunning===t.isRunning&&e.note===t.note},oe=l.a.memo(re,ae),se=n(25),ie=n.n(se),ce=function(e){var t,n=[ie.a.Button,(null===(t=e.rightAnswer)||void 0===t?void 0:t.noteName)===e.answer&&e.answer===e.note?ie.a.Correct:null];switch(e.index){case 0:n.push(ie.a.Button0);break;case 1:n.push(ie.a.Button1);break;case 2:n.push(ie.a.Button2);break;case 4:n.push(ie.a.Button4);break;case 5:n.push(ie.a.Button5);break;case 6:n.push(ie.a.Button6)}return Object(x.jsx)("button",{className:n.join(" "),disabled:e.disabled,onClick:function(){return e.handler(e.note)},children:e.symbolType?e.note:e.symbol})},ue=n(53),le=n.n(ue),de=l.a.memo((function(e){var t=[];e.options.forEach((function(n,r){t.push(Object(x.jsx)(ce,{index:r,disabled:n.isDisabled,symbolType:e.symbolType,note:n.name,symbol:n.symbol,handler:function(t){return e.handler(t)},rightAnswer:e.rightAnswer,answer:e.answer},n.name))}));var n=[le.a.Options,!e.isRunning&&le.a.Hidden];return Object(x.jsx)("div",{className:n.join(" "),children:t.map((function(e){return e}))})})),fe=n(45),he=n.n(fe),pe=Object(d.b)((function(e){return{time:e.cardGame.stopwatch,isRunning:e.cardGame.isRunning}}))((function(e){var t=Math.floor(e.time).toString(),n=[he.a.Stopwatch,!e.isRunning&&he.a.Hidden,e.time>20&&he.a.Hidden];return Object(x.jsxs)("div",{className:n.join(" "),"data-tip":"Scroll up to pause game","data-delay-show":"800","data-effect":"solid",children:[Object(x.jsx)("p",{children:t.padStart(2,"0")}),Object(x.jsx)(j.a,{})]})})),je=n(40),be=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={eventFunction:null,interval:null,thisKey:null,playedNote:null,answered:!1},e.startStopwatch=function(){if(!e.state.interval){var t=setInterval((function(){e.props.onTick()}),1e3);e.setState({interval:t})}},e.stopStopwatch=function(){clearInterval(e.state.interval),e.setState({interval:null})},e.checkAnswer=function(t){if(!e.state.answered){if(document.getElementById("cardGame").scrollIntoView({behavior:"smooth"}),t===e.props.currentNote.noteName){var n=Object(I.a)(e);e.setState({answered:!0}),setTimeout((function(){n.props.onRightTry(n.props.currentNote),n.props.onCardChange(),n.setState({playedNote:null,answered:!1})}),1e3)}t!==e.props.currentNote.noteName&&e.props.onWrongTry(t),e.setState({playedNote:t})}},e.startButtonHandler=function(){document.getElementById("cardGame").scrollIntoView({behavior:"smooth"}),e.props.onResume(),e.startStopwatch()},e.onChooseDifficulty=function(t){e.props.setDifficultyLevel(t)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;window.outerWidth>=500&&(e=function(){window.scrollY>=20&&t.props.difficulty&&(t.props.onResume(),t.startStopwatch()),0===window.scrollY&&(t.props.onPause(),t.stopStopwatch())},window.addEventListener("scroll",e)),window.outerWidth<500&&(e=function(){0===window.pageYOffset&&(t.props.onPause(),t.stopStopwatch())},document.body.addEventListener("touchmove",e)),this.setState({eventFunction:e,thisKey:this})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.state.eventFunction),document.body.removeEventListener("touchmove",this.state.eventFunction)}},{key:"componentDidUpdate",value:function(e){this.props.user&&e.notesArray!==this.props.notesArray&&this.props.onSaveGame(this.props.notesArray,this.props.answers,this.props.symbolType,this.props.user)}},{key:"render",value:function(){var e,t=this,n=Object(x.jsx)(je.a,{});this.props.nextNote&&(n=Object(x.jsxs)(p.a,{children:[Object(x.jsx)(oe,{isRunning:this.props.isRunning,note:this.props.currentNote,nextNote:null===(e=this.props.nextNote)||void 0===e?void 0:e.fileName,handler:this.startButtonHandler,answer:this.state.playedNote}),Object(x.jsx)(de,{options:this.props.options,symbolType:this.props.symbolType,isRunning:this.props.isRunning,handler:function(e){return t.checkAnswer(e)},rightAnswer:this.props.currentNote,answer:this.state.playedNote}),Object(x.jsx)("h1",{className:[$.a.Message,!this.props.isRunning&&$.a.Hidden].join(" "),children:"Scroll up to pause"}),Object(x.jsx)(pe,{})]}));return this.props.difficulty||(n=Object(x.jsx)(J,{chooseHandler:this.onChooseDifficulty})),Object(x.jsx)("div",{id:"cardGame",className:$.a.CardGame,children:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n;return e.notesArray&&!e.currentNote&&(null===(n=t.thisKey)||void 0===n||n.props.onNoteArrayMount()),t}}]),n}(u.Component),me=Object(d.b)((function(e){return{notesArray:e.cardGame.notesArray,answers:e.cardGame.answers,currentNote:e.cardGame.currentNote,nextNote:e.cardGame.nextNote,options:e.cardGame.options,isRunning:e.cardGame.isRunning,symbolType:e.cardGame.symbolType,user:e.cardGame.user,interval:e.cardGame.interval,difficulty:e.cardGame.difficulty}}),(function(e){return{onCardChange:function(){return e(h.k())},onRightTry:function(t){return e(h.e(t))},onSaveGame:function(t,n,r,a){return e(h.p(t,n,r,a))},onWrongTry:function(t){return e(h.f(t))},onPause:function(){return e(h.l())},onResume:function(){return e(h.n())},onTick:function(){return e(h.r())},onNoteArrayMount:function(){return e(h.o())},setDifficultyLevel:function(t){return e(h.h(t))}}}))(be),ve=n(54),Oe=n.n(ve),ye=l.a.lazy((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,92))})),ge=l.a.lazy((function(){return n.e(4).then(n.bind(null,93))})),_e=l.a.lazy((function(){return n.e(5).then(n.bind(null,91))})),we=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onInitApp()}},{key:"componentDidUpdate",value:function(){if(this.props.answers.length>7&&!this.props.user){window.addEventListener("beforeunload",this.unloadHandler)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.unloadHandler)}},{key:"unloadHandler",value:function(e){e.preventDefault();return(e||window.event).returnValue="",""}},{key:"render",value:function(){var e=[Oe.a.App,this.props.modelState||!this.props.difficulty?Oe.a.NoScroll:null];return Object(x.jsx)("div",{className:e.join(" "),children:Object(x.jsx)(Z,{children:Object(x.jsx)(u.Suspense,{fallback:Object(x.jsx)(je.a,{}),children:Object(x.jsxs)(f.c,{children:[Object(x.jsx)(f.a,{path:"/game-data",render:function(){return Object(x.jsxs)(p.a,{children:[Object(x.jsx)(ye,{}),Object(x.jsx)(ge,{})]})},exact:!0}),Object(x.jsx)(f.a,{path:"/about",component:_e,exact:!0}),Object(x.jsx)(f.a,{path:"/",component:me,exact:!0})]})})})})}}]),n}(u.Component),xe=Object(d.b)((function(e){return{modelState:e.website.modelState,difficulty:e.cardGame.difficulty,answers:e.cardGame.answers,user:e.cardGame.user}}),(function(e){return{onInitApp:function(){return e(h.b())}}}))(we),Ne=n(60),Se=n(35),Ae=n(7),ke=["A","B","C","D","E","F","G"],Ce=["La","Si","Do","Re","Mi","Fa","Sol"],Te=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4,t=[],n=6,r=0;r<23;r++){var a=.6*(1-Math.sqrt(Math.abs(11-r))/Math.sqrt(11));t.push({fileName:"F".concat(r+1),value:a,noteName:ke[n%7],noteSymbol:Ce[n%7],noteNumber:Math.floor((n+7)/7),clef:"F",valuesArray:[],locked:a<=e+.5*e,sincePlayed:1}),n++}var o=[];n=4;for(var s=0;s<23;s++){var i=1-Math.sqrt(Math.abs(11-s))/Math.sqrt(11);o.push({fileName:"G".concat(s+1),value:i,noteName:ke[n%7],noteSymbol:Ce[n%7],noteNumber:Math.floor((n+21)/7),clef:"G",valuesArray:[],locked:i<e,sincePlayed:1}),n++}return{F:t.sort((function(e,t){return t.value-e.value})),G:o.sort((function(e,t){return t.value-e.value}))}},Ee=n(14),Ge=function(e){return Math.floor(Math.random()*e)+1},Re=function(e,t){var n=[].concat(Object(Ee.a)(e.F.slice()),Object(Ee.a)(e.G.slice())).filter((function(e){return!e.locked})).filter((function(e){return e.fileName!==t.fileName})).sort((function(e,t){return t.sincePlayed-e.sincePlayed})),r=Ge(6)+Ge(6);return n[Math.abs(7-r)]},Ie=function(e,t,n,r,a){var o=[].concat(Object(Ee.a)(e.F.slice()),Object(Ee.a)(e.G.slice())),s=(23-(r<4?Math.pow(r,2):16)-(n-1<20?n-1:20)/(a||12)*5)/23,i=o.filter((function(e){return!e.locked}));i.forEach((function(e){if(e.valuesArray||(e.valuesArray=[]),e.fileName===t.fileName){var n=[].concat(Object(Ee.a)(e.valuesArray),[s>=0?s:0]),r=n.reduce((function(e,t){return e+t}),0)/n.length;e.value=r,e.valuesArray=n,e.sincePlayed=0}}));var c=i.length,u=1;i.forEach((function(e){var t,n,r=(null===(t=e.valuesArray)||void 0===t?void 0:t.length)>=3&&e.value<.4&&c>=7;(null===(n=e.valuesArray)||void 0===n?void 0:n.length)>=2&&e.value>.6||(u=0),e.locked=r,e.sincePlayed++}));var l=i.filter((function(e){return!e.locked})),d=o.filter((function(e){return e.locked}));d.forEach((function(e,t){e.valuesArray||(e.valuesArray=[]),t<u&&(e.locked=!1)}));var f=[].concat(Object(Ee.a)(d),Object(Ee.a)(l)).sort((function(e,t){return t.value-e.value}));return{F:f.filter((function(e){return"F"===e.clef})),G:f.filter((function(e){return"G"===e.clef}))}},Le=function(e,t){return e.slice().map((function(e){return e.name===t?Object(R.a)(Object(R.a)({},e),{},{isDisabled:!0}):e}))},De=function(e){var t=Object(Ee.a)(e);return t.forEach((function(e){return e.isDisabled=!1})),t},Me=function(e){var t=Object(Ee.a)(e);return t.forEach((function(e){return e.isDisabled=!0})),t},He=function(e,t,n,r){return[{id:e.length+1,clef:t.clef,name:t.noteName,number:t.noteNumber,symbol:t.noteSymbol,time:n-1,try:r}].concat(Object(Ee.a)(e))},Be=function(e){if(0===e.length)return null;return e.map((function(e){return e.time})).reduce((function(e,t){return e+(t>14?14:t)}),0)/e.length},Pe={notesArray:null,options:function(){for(var e=[],t=0;t<7;t++)e.push({name:ke[t],symbol:Ce[t],isDisabled:!0});return e}(),currentNote:null,nextNote:null,stopwatch:0,answers:[],isRunning:!1,tries:1,symbolType:!1,avarageTime:null,user:null,difficulty:!0},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.o:return Object(R.a)(Object(R.a)({},e),{},{currentNote:e.notesArray.G[0],nextNote:e.notesArray.G[1]});case Ae.h:return Object(R.a)(Object(R.a)({},e),{},{notesArray:Te(t.difficulty),difficulty:t.difficulty});case Ae.j:return Object(R.a)(Object(R.a)({},e),{},{user:null,notesArray:null,answers:[],symbolType:!1,difficulty:null});case Ae.i:return Object(R.a)(Object(R.a)({},e),{},{user:t.user});case Ae.g:return Object(R.a)(Object(R.a)({},e),{},{notesArray:t.notesArray?t.notesArray:e.notesArray,answers:t.answers?t.answers:e.answers,symbolType:t.symbolType,avarageTime:Be(t.answers),currentNote:t.notesArray?t.notesArray.G[0]:e.currentNote,nextNote:t.notesArray?t.notesArray.G[1]:e.nextNote,difficulty:!0});case Ae.c:return Object(R.a)(Object(R.a)({},e),{},{notesArray:null,answers:[],symbolType:!1,difficulty:null});case Ae.k:return Object(R.a)(Object(R.a)({},e),{},{isRunning:!0,currentNote:e.nextNote,nextNote:Re(e.notesArray,e.nextNote,e.answers),options:De(e.options),tries:1,avarageTime:Be(e.answers),stopwatch:0});case Ae.m:return Object(R.a)(Object(R.a)({},e),{},{isRunning:!1,options:Me(e.options),stopwatch:0});case Ae.n:return Object(R.a)(Object(R.a)({},e),{},{isRunning:!0,options:De(e.options),stopwatch:0});case Ae.e:return Object(R.a)(Object(R.a)({},e),{},{notesArray:Ie(e.notesArray,t.answer,e.stopwatch,e.tries,e.avarageTime),answers:He(e.answers,t.answer,e.stopwatch,e.tries)});case Ae.f:return Object(R.a)(Object(R.a)({},e),{},{options:Le(e.options,t.answer),tries:e.tries+1});case Ae.r:return Object(R.a)(Object(R.a)({},e),{},{stopwatch:Math.round(e.stopwatch+1)});case Ae.a:return Object(R.a)(Object(R.a)({},e),{},{symbolType:!e.symbolType});default:return e}},Fe={storage:!0,error:null,invalidEmail:null,invalidPassword:null,modelState:!1},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.l:return Object(R.a)(Object(R.a)({},e),{},{error:t.errorMessage,invalidPassword:t.password});case Ae.d:return Object(R.a)(Object(R.a)({},e),{},{error:t.errorMessage,invalidEmail:t.email});case Ae.s:return Object(R.a)(Object(R.a)({},e),{},{modelState:t.newState});case Ae.b:return Object(R.a)(Object(R.a)({},e),{},{error:null,invalidEmail:null,invalidPassword:null});case Ae.q:return Object(R.a)(Object(R.a)({},e),{},{storage:!1});case Ae.p:return Object(R.a)(Object(R.a)({},e),{},{storage:!0});default:return e}},We=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.c,qe=Object(Se.b)({cardGame:Ue,website:Ve}),ze=Object(Se.d)(qe,We(Object(Se.a)(Ne.a))),Ke=Object(x.jsx)(d.a,{store:ze,children:Object(x.jsx)(g.a,{children:Object(x.jsx)(xe,{})})});window.onbeforeunload=function(){window.scrollTo(0,0)},a.a.render(Ke,document.getElementById("root"))}],[[77,1,2]]]);
//# sourceMappingURL=main.96e33934.chunk.js.map