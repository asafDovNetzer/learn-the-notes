(this["webpackJsonplearn-the-notes"]=this["webpackJsonplearn-the-notes"]||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"r",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"s",(function(){return O})),n.d(t,"h",(function(){return y})),n.d(t,"o",(function(){return g}));var r="GET_LOCAL_STORAGE",a="DELETE_STORAGE",o="NEXT_CARD",i="FLAG_WRONG_ANSWER",s="FLAG_RIGHT_ANSWER",c="TICK",u="PAUSE_GAME",l="RESUME_GAME",d="CHANGE_SYMBOLS",f="STORAGE_SET",h="STORAGE_UNSET",p="EMAIL_ERROR",j="PASSWORD_ERROR",b="CLEAR_ERRORS",m="LOGIN_SUCCESS",v="LOGOUT_SUCCESS",O="TOGGLE_MODEL",y="INIT_NOTES",g="SET_FIRST_NOTES"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"r",(function(){return f})),n.d(t,"h",(function(){return o})),n.d(t,"o",(function(){return a})),n.d(t,"q",(function(){return y})),n.d(t,"i",(function(){return w})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"j",(function(){return A})),n.d(t,"m",(function(){return b})),n.d(t,"s",(function(){return v})),n.d(t,"g",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"p",(function(){return E}));var r=n(7),a=function(){return{type:r.o}},o=function(e){return{type:r.h,difficulty:e}},i=function(){return{type:r.a}},s=function(){return{type:r.m}},c=function(){return{type:r.n}},u=function(){return{type:r.k}},l=function(e){return{type:r.f,answer:e}},d=function(e){return{type:r.e,answer:e}},f=function(){return{type:r.r}},h=n(38);n(67),n(71);h.a.initializeApp({apiKey:"AIzaSyBNeJGhiRWUd4nPsiqOgT4j3yXr-f35ZzU",authDomain:"learn-the-notes.firebaseapp.com",databaseURL:"https://learn-the-notes-default-rtdb.firebaseio.com",projectId:"learn-the-notes",storageBucket:"learn-the-notes.appspot.com",messagingSenderId:"988020024317"});var p=h.a.database(),j=h.a.auth(),b=function(e){return function(t){j.sendPasswordResetEmail(e).then((function(){t(_("An email was successfully sent..."),null)})).catch((function(n){t(O(n,e))}))}},m=function(){return{type:r.b}},v=function(e){return{type:r.s,newState:e}},O=function(e,t){return{type:r.d,errorMessage:e.message,email:t}},y=function(e,t,n){return function(r){j.createUserWithEmailAndPassword(e,t).then((function(){r(w(e,t,n))})).catch((function(t){r(O(t,e))}))}},g=function(e){return{type:r.i,user:e}},_=function(e,t){return{type:r.l,errorMessage:e,password:t}},x=function(){return function(e){j.onAuthStateChanged((function(t){t&&(e(g(t)),e(C(t))),t||e(N())}))}},w=function(e,t,n){return function(r){j.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;if(r(g(t)),r(m()),r(v(!1)),n){var a=n.notesArray,o=n.answers,i=n.symbolType;r(E(a,o,i,t))}})).catch((function(n){"auth/wrong-password"===n.code?r(_(n.message,t)):r(O(n,e))}))}},N=function(){return{type:r.j}},A=function(){return function(e){j.signOut().then((function(){e(N()),e(v(!1))})).catch((function(e){return console.log(e)}))}},S=function(e){var t=e.notesArray,n=void 0!==t&&t,a=e.answersArray,o=void 0!==a&&a,i=e.symbolType,s=void 0!==i&&i;return{type:r.g,notesArray:n,answers:o,symbolType:s}},k=function(){return{type:r.c}},C=function(e){return function(t){p.ref("users/".concat(e.uid)).get().then((function(e){e.exists()&&t(S(e.val().data)),e.exists()||t(S())})).catch((function(e){return console.log(e)}))}},T=function(e){return function(t){e?p.ref("users/".concat(null===e||void 0===e?void 0:e.uid)).remove().then((function(){return t(k())})).catch((function(e){return console.log(e)})):t(k())}},E=function(e,t,n,a){return function(o){o({type:r.q});var i={notesArray:e,answersArray:t,symbolType:n};p.ref("users/".concat(a.uid)).set({data:i},(function(e){e||o({type:r.p}),e&&console.log(e)}))}}},,function(e,t,n){e.exports={Auth:"Auth_Auth__NSo1I",AuthDiv:"Auth_AuthDiv__3vGPy",Button:"Auth_Button__eFRCY",Messages:"Auth_Messages__K12Gg",Link:"Auth_Link__jrO2E"}},,,,,,,,,,,,function(e,t,n){e.exports={Button:"Option_Button__3k_sa",Correct:"Option_Correct__3Eraw",Button0:"Option_Button0__37mCq",Button1:"Option_Button1__30dln",Button2:"Option_Button2__3Pk-W",Button4:"Option_Button4__3wk1X",Button5:"Option_Button5__3dJn6",Button6:"Option_Button6__zVmrZ"}},,,function(e,t,n){e.exports={Card:"Card_Card__2S6Rp",Success:"Card_Success__3Wn9S",NextCard:"Card_NextCard__1Y5-n",Close:"Card_Close__1SGXP",closeCard:"Card_closeCard__2kO_A",First:"Card_First__3IjaT",fade:"Card_fade__2iztU",None:"Card_None__2uEFs"}},,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__vITOm",Link:"Toolbar_Link__FIZjA",SignedIn:"Toolbar_SignedIn__37qqL",Hidden:"Toolbar_Hidden__33hgg",DesktopOnly:"Toolbar_DesktopOnly__2cKMk"}},,,,,,,,function(e,t,n){"use strict";n(2);var r=n(57),a=n.n(r),o=n(1);t.a=function(e){return Object(o.jsx)("div",{className:a.a.Loader,children:"Loading..."})}},,function(e,t,n){e.exports={Field:"FormField_Field__UzYzK",Valid:"FormField_Valid__3_1l7",InValid:"FormField_InValid__11hMl"}},function(e,t,n){e.exports={Stopwatch:"Stopwatch_Stopwatch__3lLaU",Hidden:"Stopwatch_Hidden__3Omnv"}},,,,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2459L",active:"NavigationItem_active__29kGs"}},,,function(e,t,n){e.exports={Saved:"StorageIcon_Saved__Topjh",Unsaved:"StorageIcon_Unsaved__1vRdq",rotate:"StorageIcon_rotate__3i0AV"}},function(e,t,n){e.exports={Options:"Options_Options__3oapo",Hidden:"Options_Hidden__1B7LN"}},function(e,t,n){e.exports={App:"App_App__2JkKW",NoScroll:"App_NoScroll__3hZRS"}},function(e,t,n){"use strict";n(2);var r=n(54),a=n.n(r),o=n(1);t.a=function(e){return e.show?Object(o.jsx)("div",{onClick:e.closeModal,className:a.a.Backdrop}):null}},,function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__VyT0W",SignedIn:"NavigationItems_SignedIn__3JU7b"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__dJKQx"}},function(e,t,n){e.exports={Difficulty:"Difficulty_Difficulty__783Zd"}},function(e,t,n){e.exports={CardGame:"CardGame_CardGame__1sGJ1"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1Pxsq",load2:"Spinner_load2__3QcMM"}},,,,,,function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(35),i=n.n(o),s=(n(63),n(18)),c=n(19),u=n(21),l=n(20),d=n(16),f=n(10),h=n(9),p=function(e){return e.children},j=n(24),b=n(29),m=n.n(b),v=n(28),O=n(53),y=n.n(O),g=n(30),_=n(45),x=n.n(_),w=n(1),N=function(e){return Object(w.jsx)("li",{className:x.a.NavigationItem,children:Object(w.jsx)(g.b,{to:e.link,exact:!0,activeClassName:x.a.active,children:e.children})})},A=function(){return Object(w.jsxs)("ul",{className:y.a.NavigationItems,children:[Object(w.jsx)(N,{link:"/",children:"App"}),Object(w.jsx)(N,{link:"/game-data",children:"Game Data"}),Object(w.jsx)(N,{link:"/about",children:"About"})]})},S=n(48),k=n.n(S),C=function(e){return Object(w.jsxs)(p,{children:[Object(w.jsx)("svg",{className:e.storage?k.a.Saved:k.a.Unsaved,width:"26",height:"26",fill:"currentColor","data-tip":e.user?"Auto-save is on":"Login to enable auto-save","data-effect":"solid",children:Object(w.jsx)("use",{href:"".concat(v.a,"#save")})}),Object(w.jsx)(j.a,{})]})},T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onUserClick=function(){var t=!e.props.modelState;e.props.onUserPress(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=[m.a.Toolbar,this.props.isRunning?m.a.Hidden:null],t=window.location.origin,n=this.props.user?"Logged in":"No user active";return Object(w.jsxs)("header",{className:e.join(" "),children:[Object(w.jsx)("img",{className:m.a.DesktopOnly,src:"".concat(t,"/logo7.png"),alt:"clef"}),Object(w.jsx)(C,{user:this.props.user,storage:this.props.storage}),Object(w.jsx)("nav",{children:Object(w.jsx)(A,{})}),Object(w.jsx)("button",{"data-tip":n,"data-effect":"solid",className:m.a.Link,onClick:this.onUserClick,children:Object(w.jsx)("svg",{className:this.props.user?m.a.SignedIn:null,width:"26",height:"26",fill:"currentColor",children:Object(w.jsx)("use",{href:"".concat(v.a,"#person-circle")})})}),Object(w.jsx)(j.a,{})]})}}]),n}(r.Component),E=Object(d.b)((function(e){return{isRunning:e.cardGame.isRunning,storage:e.website.storage,user:e.cardGame.user,modelState:e.website.modelState}}),(function(e){return{onUserPress:function(t){return e(h.s(t))}}}))(T),G=n(34),I=n(4),R=n(27),L=n(11),M=n.n(L),P=n(39),D=n.n(P),B=function(e){var t=[D.a.Field];return e.field.validity&&t.push(D.a.Valid),!1===e.field.validity&&t.push(D.a.InValid),Object(w.jsxs)(p,{children:[Object(w.jsx)("input",{onChange:e.handler,className:t.join(" "),placeholder:e.field.placeholder,name:e.name,required:!0,type:e.field.type,value:e.field.value,"data-tip":e.field.info}),Object(w.jsx)(j.a,{})]})},H=function(e){var t=e.error?Object(w.jsx)("p",{children:e.error}):null,n=!0,r=[];for(var a in e.fields)e.fields[a].validity||(n=!1),r.push(Object(w.jsx)(B,{handler:e.fieldChangeHandler,field:e.fields[a],name:a},a));return Object(w.jsxs)("div",{className:M.a.AuthDiv,children:[Object(w.jsxs)("form",{children:[Object(w.jsx)("ul",{children:r.map((function(e){return e}))}),Object(w.jsx)("button",{className:M.a.Button,disabled:!n,onClick:e.submitHandler,children:"Sign Up"})]}),Object(w.jsxs)("div",{className:M.a.Messages,children:[t,Object(w.jsxs)("p",{children:["Already have an account?",Object(w.jsx)("button",{className:M.a.Link,onClick:function(){return e.changeMethodHandler("Login")},children:"Login"})]})]})]})},F=function(e){var t=e.error?Object(w.jsx)("p",{children:e.error}):null,n=e.fields[0].validity&&e.fields[1].validity;return Object(w.jsxs)("div",{className:M.a.AuthDiv,children:[Object(w.jsxs)("form",{children:[Object(w.jsx)("ul",{children:e.fields.map((function(t){return Object(w.jsx)(B,{handler:e.fieldChangeHandler,field:t,name:t.name},t.name)}))}),Object(w.jsx)("button",{className:M.a.Button,disabled:!n,onClick:e.submitHandler,children:"Login"})]}),Object(w.jsxs)("div",{className:M.a.Messages,children:[t,Object(w.jsxs)("p",{children:["Don't have an account?",Object(w.jsx)("button",{className:M.a.Link,onClick:function(){return e.changeMethodHandler("Sign Up")},children:"Sign up for free"})]}),Object(w.jsxs)("p",{children:["Forgot your password?",Object(w.jsx)("button",{className:M.a.Link,onClick:function(){return e.changeMethodHandler("Recover Password")},children:"Recover it"})]})]})]})},U=function(e){return Object(w.jsx)("div",{className:M.a.Messages,children:Object(w.jsxs)("p",{children:["You are currently logged in...",Object(w.jsx)("button",{className:M.a.Link,onClick:e.handler,children:"Logout"})]})})},V=function(e){console.log(e.field);var t=e.error?Object(w.jsx)("p",{children:e.error}):null,n=e.field.validity;return Object(w.jsxs)("div",{className:M.a.AuthDiv,children:[Object(w.jsxs)("form",{children:[Object(w.jsx)("ul",{children:Object(w.jsx)(B,{handler:e.fieldChangeHandler,field:e.field,name:e.field.type})}),Object(w.jsx)("button",{className:M.a.Button,disabled:!n,onClick:e.submitHandler,children:"Send Verification Email"})]}),t]})},W=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={method:"Login",form:{email:{value:"",type:"email",name:"email",placeholder:"Your Email address",validity:void 0,checkEmailIsDifferent:function(e,t){var n=t.props.invalidEmail!==e;return this.validity=n,n},checkValidity:function(e,t){return this.checkEmailIsDifferent(e,t)}},password:{value:"",type:"password",name:"password",placeholder:"Your password",info:"Password must be 8 characters or longer...",validity:void 0,checkPassword:function(e,t){if(e){var n=e.length>=8&&e!==t.props.invalidPassword;return this.validity=n,n}},checkValidity:function(e,t){return this.checkPassword(e,t)}},repeatPassword:{value:"",type:"password",name:"repeatPassword",placeholder:"Repeat password",info:"Passwords must be identical",validity:void 0,checkPassword:function(e,t){if(e)return console.log(t),e===t.state.form.password.value},checkValidity:function(e,t){return this.checkPassword(e,t)}}}},e.onInputChange=function(t){var n=t.target.value,r=t.target.name,a=e.state.form[r].checkValidity(n,Object(R.a)(e)),o=Object(I.a)(Object(I.a)({},e.state.form[r]),{},{value:n,validity:a}),i=Object(I.a)(Object(I.a)({},e.state.form),{},Object(G.a)({},r,o));e.setState({form:i})},e.changeAuthMethod=function(t){e.props.onAuthTypeChange(),e.setState({method:t})},e.logoutHanlder=function(){e.props.onLogout()},e.recoverPasswordHandler=function(t){t.preventDefault(),e.props.onRecover(e.state.form.email.value)},e.signUpHandler=function(t){t.preventDefault();var n=null;e.props.answers.length&&(n={notesArray:e.props.notesArray,answers:e.props.answers,symbolType:e.props.symbolType}),e.props.onSignUp(e.state.form.email.value,e.state.form.password.value,n)},e.loginHandler=function(t){t.preventDefault(),e.props.onLogin(e.state.form.email.value,e.state.form.password.value)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.user&&this.setState({method:"Logout"})}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.state.form.email.checkValidity(this.state.form.email.value,this),this.state.form.password.checkValidity(this.state.form.password.value,this),this.setState({form:this.state.form}))}},{key:"render",value:function(){var e;switch(this.state.method){case"Sign Up":e=Object(w.jsx)(H,{fields:this.state.form,fieldChangeHandler:this.onInputChange,submitHandler:this.signUpHandler,changeMethodHandler:this.changeAuthMethod,error:this.props.error});break;case"Login":e=Object(w.jsx)(F,{fields:[this.state.form.email,this.state.form.password],fieldChangeHandler:this.onInputChange,submitHandler:this.loginHandler,error:this.props.error,changeMethodHandler:this.changeAuthMethod});break;case"Logout":e=Object(w.jsx)(U,{handler:this.logoutHanlder});break;case"Recover Password":e=Object(w.jsx)(V,{field:this.state.form.email,fieldChangeHandler:this.onInputChange,submitHandler:this.recoverPasswordHandler,error:this.props.error})}return Object(w.jsx)("div",{className:M.a.Auth,children:e})}}]),n}(r.Component),q=Object(d.b)((function(e){return{error:e.website.error,invalidEmail:e.website.invalidEmail,invalidPassword:e.website.invalidPassword,user:e.cardGame.user,notesArray:e.cardGame.notesArray,answers:e.cardGame.answers,symbolType:e.cardGame.symbolType}}),(function(e){return{onSignUp:function(t,n,r){return e(h.q(t,n,r))},onLogin:function(t,n){return e(h.i(t,n))},onRecover:function(t){return e(h.m(t))},onAuthTypeChange:function(){return e(h.c())},onLogout:function(){return e(h.j())}}}))(W),z=n(51),K=n(55),Y=n.n(K),J=function(e){return Object(w.jsxs)("div",{className:Y.a.Difficulty,children:[Object(w.jsxs)("button",{onClick:function(){return e.handler(.4)},children:[Object(w.jsx)("h1",{children:"Beginner"}),Object(w.jsx)("p",{children:"I can recognize at least one note"}),Object(w.jsx)("img",{src:"./Images/easym.jpg",alt:"something"})]}),Object(w.jsxs)("button",{onClick:function(){return e.handler(.2)},children:[Object(w.jsx)("h1",{children:"Advanced Beginner"}),Object(w.jsx)("p",{children:"I recognize at least five notes on both clefs"}),Object(w.jsx)("img",{src:"./Images/midm.jpg",alt:"something"})]}),Object(w.jsxs)("button",{onClick:function(){return e.handler(.1)},children:[Object(w.jsx)("h1",{children:"Intermediate"}),Object(w.jsx)("p",{children:"I recognize almost every note on both clefs"}),Object(w.jsx)("img",{src:"./Images/hardm.jpg",alt:"something"})]})]})},X=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).backdropHandler=function(){e.props.onUserPress(!1)},e.onChooseDifficulty=function(t){e.props.setDifficultyLevel(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.modelState?Object(w.jsx)(q,{}):null,t=this.props.difficulty?null:Object(w.jsx)(J,{handler:this.onChooseDifficulty});return Object(w.jsxs)(p,{children:[Object(w.jsx)(E,{}),e,t,Object(w.jsx)(z.a,{closeModal:this.backdropHandler,show:!!e||!!t}),Object(w.jsx)("main",{children:this.props.children})]})}}]),n}(r.Component),Z=Object(d.b)((function(e){return{modelState:e.website.modelState,difficulty:e.cardGame.difficulty}}),(function(e){return{onUserPress:function(t){e(h.c()),e(h.s(t))},setDifficultyLevel:function(t){return e(h.h(t))}}}))(X),Q=n(56),$=n.n(Q),ee=n(26),te=n.n(ee),ne=function(e){var t=[te.a.Card,e.time<.4?te.a.Close:null],n=Object(w.jsx)("button",{onClick:e.handler,children:Object(w.jsx)("svg",{width:"160",height:"160",fill:"currentColor",children:Object(w.jsx)("use",{href:"".concat(v.a,"#play")})})});e.isRunning&&(n=Object(w.jsx)("img",{src:"./Images/".concat(e.note.fileName,".jpg"),alt:"something"}));var r=null;e.note.noteName===e.answer&&(r=Object(w.jsx)("h1",{className:te.a.Success,children:"\u2714"}));var a=0===e.note.valuesArray.length?Object(w.jsx)("div",{className:e.time<4&&0!==e.time?te.a.First:te.a.None,children:Object(w.jsx)("h1",{children:"NEW NOTE !"})}):null,o="./Images/".concat(e.nextNote,".jpg");return Object(w.jsxs)(p,{children:[a,Object(w.jsxs)("div",{className:t.join(" "),children:[n,r,Object(w.jsx)("img",{className:te.a.NextCard,src:o,alt:"something"})]})]})},re=n(23),ae=n.n(re),oe=function(e){var t,n=[ae.a.Button,(null===(t=e.rightAnswer)||void 0===t?void 0:t.noteName)===e.answer&&e.answer===e.note?ae.a.Correct:null];switch(e.index){case 0:n.push(ae.a.Button0);break;case 1:n.push(ae.a.Button1);break;case 2:n.push(ae.a.Button2);break;case 4:n.push(ae.a.Button4);break;case 5:n.push(ae.a.Button5);break;case 6:n.push(ae.a.Button6)}return Object(w.jsx)("button",{className:n.join(" "),disabled:e.disabled,onClick:function(){return e.handler(e.note)},children:e.symbolType?e.note:e.symbol})},ie=n(49),se=n.n(ie),ce=function(e){var t=[];e.options.forEach((function(n,r){t.push(Object(w.jsx)(oe,{index:r,disabled:n.isDisabled,symbolType:e.symbolType,note:n.name,symbol:n.symbol,handler:function(t){return e.handler(t)},rightAnswer:e.rightAnswer,answer:e.answer},n.name))}));var n=[se.a.Options,e.isRunning?null:se.a.Hidden];return Object(w.jsx)("div",{className:n.join(" "),children:t.map((function(e){return e}))})},ue=n(40),le=n.n(ue),de=function(e){var t=Math.floor(e.time).toString(),n=10*(e.time-t),r=[le.a.Stopwatch,e.isRunning?null:le.a.Hidden,e.time<20?null:le.a.Hidden];return Object(w.jsxs)("div",{className:r.join(" "),"data-tip":"Scroll up to pause game","data-delay-show":"800","data-effect":"solid",children:[Object(w.jsx)("p",{children:t.padStart(2,"0")}),Object(w.jsx)("p",{children:":"}),Object(w.jsx)("p",{children:n.toFixed(0).padEnd(2,"0")}),Object(w.jsx)(j.a,{})]})},fe=n(37),he=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={eventFunction:null,interval:null,thisKey:null,playedNote:null},e.startStopwatch=function(){if(!e.state.interval){var t=setInterval((function(){e.props.onTick()}),100);e.setState({interval:t})}},e.stopStopwatch=function(){clearInterval(e.state.interval),e.setState({interval:null})},e.checkAnswer=function(t){if(document.getElementById("cardGame").scrollIntoView({behavior:"smooth"}),t===e.props.currentNote.noteName){var n=Object(R.a)(e);setTimeout((function(){n.props.onRightTry(n.props.currentNote),n.props.onCardChange()}),1e3)}t!==e.props.currentNote.noteName&&e.props.onWrongTry(t),e.setState({playedNote:t})},e.startButtonHandler=function(){document.getElementById("cardGame").scrollIntoView({behavior:"smooth"}),e.props.onResume(),e.startStopwatch()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;window.outerWidth>=500&&(e=function(){window.scrollY>=20&&(t.props.onResume(),t.startStopwatch()),0===window.scrollY&&(t.props.onPause(),t.stopStopwatch())},window.addEventListener("scroll",e)),window.outerWidth<500&&(e=function(){0===window.pageYOffset&&(t.props.onPause(),t.stopStopwatch())},document.body.addEventListener("touchmove",e)),this.setState({eventFunction:e,thisKey:this})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.state.eventFunction),document.body.removeEventListener("touchmove",this.state.eventFunction)}},{key:"componentDidUpdate",value:function(e){this.props.user&&e.notesArray!==this.props.notesArray&&this.props.onSaveGame(this.props.notesArray,this.props.answers,this.props.symbolType,this.props.user)}},{key:"render",value:function(){var e,t=this,n=Object(w.jsx)(fe.a,{});this.props.nextNote&&(n=Object(w.jsxs)(p,{children:[Object(w.jsx)(ne,{isRunning:this.props.isRunning,time:this.props.time,note:this.props.currentNote,nextNote:null===(e=this.props.nextNote)||void 0===e?void 0:e.fileName,handler:this.startButtonHandler,answer:this.state.playedNote}),Object(w.jsx)(ce,{options:this.props.options,symbolType:this.props.symbolType,isRunning:this.props.isRunning,handler:function(e){return t.checkAnswer(e)},rightAnswer:this.props.currentNote,answer:this.state.playedNote}),Object(w.jsx)(de,{time:this.props.time,interval:this.state.interval,isRunning:this.props.isRunning})]}));return Object(w.jsx)("div",{id:"cardGame",className:$.a.CardGame,children:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n;return e.notesArray&&!e.currentNote&&(null===(n=t.thisKey)||void 0===n||n.props.onNoteArrayMount()),Object(I.a)({},t)}}]),n}(r.Component),pe=Object(d.b)((function(e){return{notesArray:e.cardGame.notesArray,answers:e.cardGame.answers,currentNote:e.cardGame.currentNote,nextNote:e.cardGame.nextNote,options:e.cardGame.options,time:e.cardGame.stopwatch,isRunning:e.cardGame.isRunning,symbolType:e.cardGame.symbolType,user:e.cardGame.user,interval:e.cardGame.interval}}),(function(e){return{onCardChange:function(){return e(h.k())},onRightTry:function(t){return e(h.e(t))},onSaveGame:function(t,n,r,a){return e(h.p(t,n,r,a))},onWrongTry:function(t){return e(h.f(t))},onPause:function(){return e(h.l())},onResume:function(){return e(h.n())},onTick:function(){return e(h.r())},onNoteArrayMount:function(){return e(h.o())}}}))(he),je=n(50),be=n.n(je),me=a.a.lazy((function(){return Promise.all([n.e(7),n.e(3)]).then(n.bind(null,91))})),ve=a.a.lazy((function(){return n.e(4).then(n.bind(null,92))})),Oe=a.a.lazy((function(){return n.e(5).then(n.bind(null,89))})),ye=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onInitApp()}},{key:"render",value:function(){var e=[be.a.App,this.props.modelState||!this.props.difficulty?be.a.NoScroll:null];return Object(w.jsx)("div",{className:e.join(" "),children:Object(w.jsx)(Z,{children:Object(w.jsx)(r.Suspense,{fallback:Object(w.jsx)(fe.a,{}),children:Object(w.jsxs)(f.c,{children:[Object(w.jsx)(f.a,{path:"/game-data",render:function(){return Object(w.jsxs)(p,{children:[Object(w.jsx)(me,{}),Object(w.jsx)(ve,{})]})},exact:!0}),Object(w.jsx)(f.a,{path:"/about",component:Oe,exact:!0}),Object(w.jsx)(f.a,{path:"/",component:pe,exact:!0})]})})})})}}]),n}(r.Component),ge=Object(d.b)((function(e){return{modelState:e.website.modelState,difficulty:e.cardGame.difficulty}}),(function(e){return{onInitApp:function(){return e(h.b())}}}))(ye),_e=n(58),xe=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,90)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))},we=n(33),Ne=n(7),Ae=["A","B","C","D","E","F","G"],Se=["La","Si","Do","Re","Mi","Fa","Sol"],ke=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4,t=[],n=6,r=0;r<23;r++){var a=.6*(1-Math.sqrt(Math.abs(11-r))/Math.sqrt(11));t.push({fileName:"F".concat(r+1),value:a,noteName:Ae[n%7],noteSymbol:Se[n%7],noteNumber:Math.floor((n+7)/7),clef:"F",valuesArray:[],locked:a<=e+.5*e,sincePlayed:1}),n++}var o=[];n=4;for(var i=0;i<23;i++){var s=1-Math.sqrt(Math.abs(11-i))/Math.sqrt(11);o.push({fileName:"G".concat(i+1),value:s,noteName:Ae[n%7],noteSymbol:Se[n%7],noteNumber:Math.floor((n+21)/7),clef:"G",valuesArray:[],locked:s<e,sincePlayed:1}),n++}return console.log(t,o),{F:t.sort((function(e,t){return t.value-e.value})),G:o.sort((function(e,t){return t.value-e.value}))}},Ce=n(13),Te=function(e){return Math.floor(Math.random()*e)+1},Ee=function(e,t){var n=[].concat(Object(Ce.a)(e.F.slice()),Object(Ce.a)(e.G.slice())).filter((function(e){return!e.locked})).filter((function(e){return e.fileName!==t.fileName})).sort((function(e,t){return t.sincePlayed-e.sincePlayed})),r=Te(6)+Te(6);return n[Math.abs(7-r)]},Ge=function(e,t,n,r,a){var o=[].concat(Object(Ce.a)(e.F.slice()),Object(Ce.a)(e.G.slice())),i=(23-(r<4?Math.pow(r,2):16)-(n<20?n:20)/(a||5)*5)/23,s=o.filter((function(e){return!e.locked}));s.forEach((function(e){if(e.valuesArray||(e.valuesArray=[]),e.fileName===t.fileName){var n=[].concat(Object(Ce.a)(e.valuesArray),[i>=0?i:0]),r=n.reduce((function(e,t){return e+t}),0)/n.length;e.value=r,e.valuesArray=n,e.sincePlayed=0}}));var c=s.length,u=1;s.forEach((function(e){var t,n,r=(null===(t=e.valuesArray)||void 0===t?void 0:t.length)>=3&&e.value<.4&&c>=7;(null===(n=e.valuesArray)||void 0===n?void 0:n.length)>=2&&e.value>.6||(u=0),e.locked=r,e.sincePlayed++}));var l=s.filter((function(e){return!e.locked})),d=o.filter((function(e){return e.locked}));d.forEach((function(e,t){e.valuesArray||(e.valuesArray=[]),t<u&&(e.locked=!1)}));var f=[].concat(Object(Ce.a)(d),Object(Ce.a)(l)).sort((function(e,t){return t.value-e.value}));return{F:f.filter((function(e){return"F"===e.clef})),G:f.filter((function(e){return"G"===e.clef}))}},Ie=function(e,t){return e.slice().map((function(e){return e.name===t?Object(I.a)(Object(I.a)({},e),{},{isDisabled:!0}):e}))},Re=function(e){var t=Object(Ce.a)(e);return t.forEach((function(e){return e.isDisabled=!1})),t},Le=function(e){var t=Object(Ce.a)(e);return t.forEach((function(e){return e.isDisabled=!0})),t},Me=function(e,t,n,r){return[{id:e.length+1,clef:t.clef,name:t.noteName,number:t.noteNumber,symbol:t.noteSymbol,time:n,try:r}].concat(Object(Ce.a)(e))},Pe=function(e){if(0===e.length)return null;return e.map((function(e){return e.time})).reduce((function(e,t){return e+(t>14?14:t)}),0)/e.length},De={notesArray:null,options:function(){for(var e=[],t=0;t<7;t++)e.push({name:Ae[t],symbol:Se[t],isDisabled:!0});return e}(),currentNote:null,nextNote:null,stopwatch:0,answers:[],isRunning:!1,tries:1,symbolType:!1,avarageTime:null,user:null,difficulty:!0},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.o:return Object(I.a)(Object(I.a)({},e),{},{currentNote:e.notesArray.G[0],nextNote:e.notesArray.G[1]});case Ne.h:return Object(I.a)(Object(I.a)({},e),{},{notesArray:ke(t.difficulty),difficulty:t.difficulty});case Ne.j:return Object(I.a)(Object(I.a)({},e),{},{user:null,notesArray:null,answers:[],symbolType:!1,difficulty:null});case Ne.i:return Object(I.a)(Object(I.a)({},e),{},{user:t.user});case Ne.g:return Object(I.a)(Object(I.a)({},e),{},{notesArray:t.notesArray?t.notesArray:e.notesArray,answers:t.answers?t.answers:e.answers,symbolType:t.symbolType,avarageTime:Pe(t.answers),currentNote:t.notesArray?t.notesArray.G[0]:e.currentNote,nextNote:t.notesArray?t.notesArray.G[1]:e.nextNote,difficulty:!0});case Ne.c:return Object(I.a)(Object(I.a)({},e),{},{notesArray:null,answers:[],symbolType:!1,difficulty:null});case Ne.k:return Object(I.a)(Object(I.a)({},e),{},{isRunning:!0,currentNote:e.nextNote,nextNote:Ee(e.notesArray,e.nextNote,e.answers),options:Re(e.options),tries:1,avarageTime:Pe(e.answers),stopwatch:0});case Ne.m:return Object(I.a)(Object(I.a)({},e),{},{isRunning:!1,options:Le(e.options),stopwatch:0});case Ne.n:return Object(I.a)(Object(I.a)({},e),{},{isRunning:!0,options:Re(e.options),stopwatch:0});case Ne.e:return Object(I.a)(Object(I.a)({},e),{},{notesArray:Ge(e.notesArray,t.answer,e.stopwatch,e.tries,e.avarageTime),answers:Me(e.answers,t.answer,e.stopwatch,e.tries)});case Ne.f:return Object(I.a)(Object(I.a)({},e),{},{options:Ie(e.options,t.answer),tries:e.tries+1});case Ne.r:return Object(I.a)(Object(I.a)({},e),{},{stopwatch:e.stopwatch+.1});case Ne.a:return Object(I.a)(Object(I.a)({},e),{},{symbolType:!e.symbolType});default:return e}},He={storage:!0,error:null,invalidEmail:null,invalidPassword:null,modelState:!1},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.l:return Object(I.a)(Object(I.a)({},e),{},{error:t.errorMessage,invalidPassword:t.password});case Ne.d:return Object(I.a)(Object(I.a)({},e),{},{error:t.errorMessage,invalidEmail:t.email});case Ne.s:return Object(I.a)(Object(I.a)({},e),{},{modelState:t.newState});case Ne.b:return Object(I.a)(Object(I.a)({},e),{},{error:null,invalidEmail:null,invalidPassword:null});case Ne.q:return Object(I.a)(Object(I.a)({},e),{},{storage:!1});case Ne.p:return Object(I.a)(Object(I.a)({},e),{},{storage:!0});default:return e}},Ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||we.c,Ve=Object(we.b)({cardGame:Be,website:Fe}),We=Object(we.d)(Ve,Ue(Object(we.a)(_e.a))),qe=Object(w.jsx)(d.a,{store:We,children:Object(w.jsx)(g.a,{children:Object(w.jsx)(ge,{})})});window.onbeforeunload=function(){window.scrollTo(0,0)},i.a.render(Object(w.jsx)(a.a.StrictMode,{children:qe}),document.getElementById("root")),xe()}],[[75,1,2]]]);
//# sourceMappingURL=main.eca44acd.chunk.js.map